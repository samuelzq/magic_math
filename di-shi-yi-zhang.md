# 第十一章 微积分的魔力

  
y = x11 =&gt; y’ = 11x10

## **沿着切线前进**

数学是科学的语言，用来描述大多数自然规律的数学是微积分。微积分是关于事物如何生长、变化和移动的数学。在本章中，我们将学习如何确定函数变化的速率，以及如何用更简单的函数，比如多项式来近似复杂的函数。微积分也是一种强大的优化工具，它可以用来决定如何选择你的数，以最大化数量（如利润或体积）或最小化数量（如成本或旅行距离）。

举个例子，假设你有一个正方形的硬纸板，每边12英寸，如下图所示。假设你从角落里切出x乘x的方块，然后把结果的标签折叠起来，创建一个托盘。结果托盘的最大可能体积是多少？

我们先把体积视为x的函数，托盘的底部会有面积\(12 − 2x\)\(12 − 2x\)而托盘的高度是x，所以托盘的体积是 $$V = (12 − 2x)^2x$$ 。

![x&#x53D6;&#x4EC0;&#x4E48;&#x503C;&#x65F6;&#xFF0C;&#x76D2;&#x5B50;&#x7684;&#x4F53;&#x79EF;&#x6700;&#x5927;&#xFF1F;](.gitbook/assets/image%20%28191%29.png)

我们的目标是选择x的值来使体积尽可能大。我们不能选择太大或太小的x。例如，如果x = 0或x = 6，那么这个盒子的体积是0。x的最优值介于两者之间。

下面是函数 $$y = (12 − 2x)^2x$$ 在x从0到6时的曲线图。当x = 1时，我们计算出体积是y = 100。当x = 2时，y = 128。当x = 3时， y = 108。x = 2的值看起来很有希望，但也许有一个真实的在1到3之间的数会是更好得选择？

![&#x4F7F;y = \(12 &#x2212; 2x\)^2x&#x6700;&#x5927;&#x7684;&#x90A3;&#x4E00;&#x70B9;&#x6709;&#x4E00;&#x6761;&#x6C34;&#x5E73;&#x7684;&#x5207;&#x7EBF;](.gitbook/assets/image%20%28190%29.png)

在最大值的左边，函数是向上的，斜率是正的，向右，它是向下的，斜率是负的。所以，在最大值点上，函数既不增加也不减少：它在两者之间转换。为了更精确地说，在这个最优点，有一条水平的切线（斜率为0）。在这一章中，我们将用微积分来求出0到6之间的点，过这一点的切线是水平的。

说到切线，我们将在这一章中讨论很多问题。例如，我们刚刚考虑的问题是找到切去一角的最佳方法。事实上，我们将在这一章中削减很多的角。微积分是一个庞大的学科，典型的教科书包含了上千页。在短短几十页的篇幅里，我们只能涵盖一些亮点。在这本书中，我们将不讨论积分的主题，它可用来计算复杂物体的面积和体积；我们只关注微分，它量度函数如何增长和变化。

可分析的最简单的函数是直线。第二章中，我们注明直线y = mx + b的斜率是m。这样，如果x增加1，y就增加m。例如，直线y = 2x + 3的斜率是2。如果我们将x增加1（从10到11），则y增加2（从23增加到25）。

下图中，我们画了不同直线的图形。其中y = −x的斜率为-1，y = 5的斜率是0。

![&#x76F4;&#x7EBF;&#x7684;&#x56FE;&#x5F62;](.gitbook/assets/image%20%28188%29.png)

给定任意两点，我们可以画一条线，并在不需要直线公式的情况下确定直线的斜率。穿过点 $$(x_1,\ y_1)$$ 和 $$(x_2,\ y_2)$$ 的直线的斜率由rise over run公式得出：

$$
m=\frac{y_2-y_1}{x_2-x_1}
$$

例如取直线y = 2x + 3上两点\(0, 3\)和\(4, 11\)。连接两点的直线的斜率是

$$
m=\frac{y_2-y_1}{x_2-x_1}=\frac{11-3}{4-0}=\frac{8}{4}=2
$$

这恰好是我们在最初的直线等式中看到的。

选择考虑方程 $$y = x^2 + 1$$ ，如下面的曲线所示。这张图不是一条直线，我们可以看到斜率一直在变化。让我们试着确定过点\(1, 2\)的切线的斜率。

![&#x5BF9;y = x^2 + 1&#xFF0C;&#x627E;&#x51FA;&#x8FC7;&#x70B9;\(1, 2\)&#x7684;&#x76F4;&#x7EBF;&#x7684;&#x659C;&#x7387;](.gitbook/assets/image%20%28193%29.png)

坏消息是需要两个点才能确定斜率，而我们只有一个点 $$(1,\ 2)$$ 。因此我们首先通过观察一条穿过曲线上两个点的线\(称为割线\)来求切线斜率的近似值。如果x = 1.5，那么 $$y  = 1.5^2 + 1 = 3.25$$ 。我们来看看从 $$(1,\ 2)$$ 到 $$(1.5,\ 3.25)$$ 的这条线的斜率。根据斜率公式，这条割线的斜率是

$$
m=\frac{y_2-y_1}{x_2-x_1}=\frac{3.25-2}{1.5-1}=\frac{1.25}{0.5}=2.5
$$

![&#x7528;&#x5272;&#x7EBF;&#x903C;&#x8FD1;&#x5207;&#x7EBF;](.gitbook/assets/image%20%28189%29.png)

为了更好的逼近切线，我们将第二个点向\(1, 2\)移动。例如，如果x = 1.1, 则 $$y = (1.1)^2 + 1 = 2.21$$ 。所得割线的斜率是 $$m = (2.21 − 2)/(1.1 − 1) = 2.1$$ 。在下表中可见，当第二个点越来越靠近\(1, 2\)时，割线的斜率越发接近2。

| $$(x_1,\ y_2)$$  | $$x_2$$  | $$y_2=x_2^2+1$$  | $$\frac{y_2-y_1}{x_2-x_1}$$  | Slope |
| :--- | :--- | :--- | :--- | :--- |
| $$(1,\ 2)$$  | 1.5 | 3.25 | $$\frac{3.25-2}{1.5-1}=\frac{1.25}{0.5}$$  | 2.5 |
| $$(1,\ 2)$$  | 1.1 | 2.21 | $$\frac{2.21-2}{1.1-1}=\frac{0.21}{0.1}$$  | 2.1 |
| $$(1,\ 2)$$  | 1.01 | 2.0201 | $$\frac{2.0201-2}{1.01-1}=\frac{0.0201}{0.01}$$  | 2.01 |
| $$(1,\ 2)$$  | 1.001 | 2.002001 | $$\frac{2.002001-2}{1.001-1}=\frac{0.002001}{0.001}$$  | 2.001 |
| $$(1,\ 2)$$  | 1+h | $$2+2h+h^2$$  | $$\frac{2+2h+2h^2-2}{(1+h)-1}=\frac{2h+h^2}{h}$$  | 2+h |

看看当x = 1 + h在h = 1时，会发生什么。但可能只是与x = 1相差丝毫的距离。此时 $$y = (1 + h)^2 + 1 = 2 + 2h + h^2$$ 。这条割线的斜率就是

$$
\frac{y_2-y_1}{x_2-x_1}=\frac{(2+2h+h^2)-2}{(1+h)-1}=\frac{2h+h^2}{h}=2+h
$$

当h越来越接近于0时，割线越来越接近2。正式地,我们说

$$
\lim_{h \to 0}(2+h)=2
$$

这个符号表示当h趋于0时，2 + h的极限是2。直觉上，当h越来越接近于0时，2 + h越来越接近2。所以我们发现，曲线 $$y = x^2 + 1$$ 在点（1, 2）的切线的斜率是2。

一般情况是这样的。对于函数 $$y = f (x)$$ ，我们想求出点 $$(x,\ f (x))$$ 处切线的斜率。如下图所示，穿过点 $$(x,\ f (x))$$ 和邻点 $$(x + h,\ f (x + h))$$ 的割线的斜率是

$$
\frac{y_2-y_1}{x_2-x_1}=\frac{f(x+h)-f(x)}{(x+h)-x}=\frac{f(x+h)-f(x)}{h}
$$

![](.gitbook/assets/image%20%28194%29.png)

                                          穿过点\(x, f\(x\)\) 和 \(x + h, f\(x + h\)\)的割线的斜率是 $$\frac{f(x+h)-f(x)}{h}$$ 

我们使用符号f′\(x\)表示切线在点 \(x,  f\(x\)\)的斜率，所以

$$
f^{'}(x)=\lim_{h \to \infty}\frac{f(x+h)-f(x)}{h}
$$

这是一个复杂的定义，我们来举几个例子。对直线 $$ y = mx + b$$ ，它的函数是 $$f(x) = mx + b$$ 。我们用 $$x + h$$ 替换 $$x$$ 得到 $$ f(x + h) = m(x + h) + b$$ 。所以割线的斜率等于

$$
\frac{f(x+h)-f(x)}{h}=\frac{m(x+h)+b-(mx+b)}{h}=\frac{mh}{h}=m
$$

无论x的值是多少，切线的斜率都等于 $$m$$ ，所以 $$ f^′(x) = m$$ 。这能够讲得通，因为直线的斜率 $$y = mx + b $$ 总是m。

现在让我们使用刚刚的定义来推导 $$y = x^2$$ 上各点切线的斜率。这里，我们有

$$
\begin{aligned}
\frac{f(x+h)-f(x)}{h}&=\frac{(x+h)^2-x^2}{h} \\
&= \frac{(x^2+2xh+h^2)-x^2}{h} \\
&=\frac{2xh+h^2}{h} \\
&= 2x+h
\end{aligned}
$$

当h等于0时，我们有 $$ f^′(x) = 2x$$ 。

对 $$f (x) = x^3$$ ，我们得到

$$
\begin{aligned}
\frac{f(x+h)-f(x)}{h}&=\frac{(x+h)^3-x^3}{h} \\
&= \frac{(x^3+3x^2h+3xh^2+h^3)-x^3}{h} \\
&=\frac{3x^2h+3xh^2+h^3}{h} \\
&= 3x^2+3xh+h^2
\end{aligned}
$$

当h等于0时，我们得到 $$ f^′(x) = 3x^2$$ 。

给定函数y = f\(x\)，确定微分函数f'\(x\)的过程称为微分。 好消息是，一旦我们找到了几个简单函数的导数，我们就可以很容易地确定更复杂函数的导数，而无需使用上面给出的正式的基于极限的定义。 以下定理非常有用。

**定理：**如果u\(x\) = f \(x\) + g\(x\)，则u′\(x\) = f′\(x\) + g′\(x\)。 换句话说，和的导数就是导数的和。 另外，如果c是任何实数，则c f\(x\)的导数是c f ′\(x\)。

作为这个定理的结果，由于 $$y = x^3$$ 具有导数 $$3x^2$$ 并且 $$y = x^2$$ 具有导数 $$2x$$ ，因此 $$y = x^3 + x^2$$ 的导数是 $$3x^2 + 2x$$ 。 为了说明第二种说法，函数 $$y = 10x^3$$ 的导数为 $$30x^2$$ 。

{% hint style="info" %}
**证明：**令 $$u(x) = f (x) + g(x)$$ ，则

$$\begin{aligned} \frac{u(x+h)-u(x)}{h}&=\frac{f(x+h)+g(x+h)-(f(x)+g(x))}{h} \\ &=\frac{f(x+h)-f(x)}{h}+\frac{g(x+h)-g(x)}{h} \end{aligned}$$ 

两边同时取h → 0的极限，我们得到

$$u^′(x) = f^′(x) + g^′(x)$$ 

□

请注意，当我们在求等式的右边的极限时，我们利用了总和的极限是极限的总和这一结论。 我们不会在这里对它进行严格证明，但直觉是，如果数a越来越接近A并且b越来越接近B，则a + b越来越接近A + B。 请注意，乘积的极限是极限的乘积，商的极限是极限的商。 但正如我们将看到的，导数的相应规则并不那么直截了当。 例如，乘积的导数不是导数的乘积。

对于定理的后半部分，如果 $$v(x) = c f (x)$$ ，那么我们有

$$\begin{aligned} v^′(x)&=\lim_{h \to 0}\frac{v(x+h)-v(x)}{h}=\lim_{h\to 0}\frac{cf(x+h)-cf(x)}{h} \\ &=c\lim_{h\to 0}\frac{f(x+h)-f(x)}{h}=cf^′(x) \end{aligned}$$ 

结论得证

□
{% endhint %}

为了求 $$f(x) = x^4$$ 的微分，让我们先将函数 $$f(x + h)$$ 展开， $$f(x + h) = (x + h)^4 = x^4 + 4x^3h + 6x^2h^2 + 4xh^3 + h^4$$ 。多项式的系数1、4、6、4、1看起来很熟悉，它们正是第四章介绍过的帕斯卡三角的第4行。这样我们便有了

$$
\frac{f(x+h)-f(x)}{h}=\frac{4x^3h+6x^2h^2+4xh^3+h^4}{h}=4x^3+h\times[STUFF]
$$

随着h → 0，我们得到 $$f^′(x) = 4x^3$$ 。你看到其中的模式了吗？ $$x、x^2、x^3$$ 和 $$x^4$$ 的导数分别为 $$1、2x、3x^2$$ 和 $$4x^3$$ 。将相同的逻辑应用于更高的指数给了我们以下强大的规则。导数的另一个通用符号是y'，所以让我们开始在这里使用它。

**定理（指数法则）：**对于 n ≥ 0， $$y = x^n $$ 的导数是 $$ y^ ′ = nx^{n−1}$$ 

例如

如果 $$y = x^5$$ ，则 $$y^′ = 5x^4$$ 

如果 $$y = x^{10}$$ ，则 $$y^′ = 10x^9$$ 

即使是一个常数函数，如y = 1，也可以通过这个规则来求导。因为对于任意x， $$1 = x^0$$ 且 $$y = x^0$$ 具有导数 $$0x^{-1} = 0$$ 。 这是有道理的，因为 $$y = 1$$ 是水平的。 作为指数法则和先前定理的结果，我们现在可以为任何多项式求导。 例如，如果

$$y = x^{10} + 3x^5 - x^3 - 7x + 2520$$ 

则

$$y^′ = 10x^9 + 15x^4 - 3x^2 - 7$$ 

当n不是正整数时，指数法则也是正确的。

$$
\begin{aligned}
&y=\frac{1}{x}=x^{-1} \\
&y^′ =-1x^{-2}=-\frac{1}{x^2} \\
&y=\sqrt{x}=x^{\frac{1}{2}} \\
&y^′ =\frac{1}{2}x^{-\frac{1}{2}}=\frac{1}{2\sqrt{x}}
\end{aligned}
$$

但我们尚未准备好证明它们。 在我们学习如何对更复杂的函数进行微分之前，让我们利用迄今为止学到的知识来解决一些其他有趣且实用的最优化问题。

## 最大最小问题

微分可帮助我们确定函数最大值或最小值的位置。 例如，在x取什么值时，抛物线 $$y = x^2 - 8x + 10$$ 会达到其最低点？

![](.gitbook/assets/image%20%28192%29.png)

                                         抛物线 $$y = x^2 − 8x + 10 $$ 在 y′ = 0时处于它的最低点

最低点的切线斜率必须为0。由于 $$y^′ = 2x - 8$$ ，求解 $$2x - 8 = 0$$ 。结果告诉我们：当x = 4时，抛物线处于最低点（此时 $$y = 16 - 32 + 10 = - 6$$ ）。 对于函数 $$y = f(x)$$ ，满足 $$f^′(x)= 0$$ 的x称为f的临界点。 对于函数 $$y = x^2 - 8x + 10$$ ，唯一的临界点是x = 4。

最大值发生在哪里？ 在上述问题中，没有最大值，因为 $$x^2 - 8x + 10$$ 的y值可以任意大。 但是如果x被限制在一个区间内，比如 $$0≤ x ≤6$$ ，那么y在其中一个端点上是最大的。 在这里，我们看到当x = 0时，y = 10；当x = 6时，y = -2，所以函数在x = 0时被最大化。一般来说，我们有下面的重要定理。

**定理（优化定理）：**如果一个可微函数y = f\(x\)在点x\*处被最大化或最小化，那么x\*必须是f的临界点或者一个端点。

让我们回到本章开头的盒子问题。 在这里，我们有兴趣使以下函数最大化

$$y =(12 - 2x)^2x = 4x^3 - 48x^2 + 144x$$ 

其中x要求在0到6之间。我们希望找到使y值最大化的x值。 由于我们的函数是一个多项式，我们可以看到它有导数

$$y^′ = 12x^2 - 96x + 144 = 12(x^2 - 8x + 12)=  12(x – 2)(x – 6)$$ 

因此该函数具有临界点x = 2和x = 6。

该盒子在两个端点x = 0和x = 6处具有体积0，因此体积在那里最小化。 它在另一个临界点x = 2处有最大体积，即y = 128立方英寸。

## 微分法则

我们能微分的函数越多，我们能解决的问题就越多。也许微分中最重要的函数是指数函数 $$y = e^x$$ 。 $$y = e^x$$ 最特殊的地方是它等于它自己的导数。

**定理:** 对 $$y = e^x$$ ，有 $$y^′ = ex$$ 。

{% hint style="info" %}
为什么 $$ f (x) = ex$$ 满足 $$f^′(x) = ex$$ ？这是基本的想法。首先注意

$$\frac{f(x+h)-f(x)}{h}=\frac{e^{x+h}-e^x}{h}=\frac{e^x(e^h-1)}{h}$$ 

现在请回忆e的定义

$$e=\lim_{n \to \infty} \left(1+\frac{1}{n}\right)^n$$ 

这意味着当n越来越大时， $$(1 + 1/n)^n$$ 越来越接近e。现在令 h = 1/n。当n非常大时，h = 1/n接近0。这样对接近0的h， $$e ≈ (1 + h)^{1/h}$$ 。

如果我们在等式两边各求h次幂。根据指数定律  ，我们将看到

$$e^h ≈ 1 + h$$ 

所以

$$\frac{e^h-1}{h}\approx1$$ 

这样当h趋近0时，

$$\frac{f(x+h)-f(x)}{h}$$ 

趋近于 $$e^x$$ 。
{% endhint %}

是否还有其它函数是它们自己的导数？有的，不过它们都形如 $$y = ce^x$$ ，其中c是一个实数。（请注意，这包括c = 0的情况，此时我们得到常数函数y = 0）。

我们已经看到，当我们将函数相加时，和的导数就是导数的和。 那么相乘的结果是什么呢？遗憾的是乘积的导数并不是导数的乘积。但是求乘积的导数并不是很难，正如下面的定理所证明的那样。

**定律（导数乘法法则）：**如果 $$y = f (x)g(x)$$ ，则 $$y^′ = f(x)g^′(x) + f^′(x)g(x)$$ 。

例如，根据乘法法则， $$ y = x^3e^x$$ 的导数可以这么求，令 $$ f (x) = x^3$$ 、 $$g(x) = e$$ 。所以

$$
\begin{aligned}
y^′ &= f(x)g^′(x) + f^′(x)g(x) \\
&=  x^3e^x+3x^2e^x
\end{aligned}
$$

注意当 $$f (x) = x^3、g(x) = x^5$$ 时，根据乘法法则，它们乘积的导数 $$x^3x^5 = x^8$$ 是

$$
\begin{aligned}
y^′ &= x^3(5x^4)+3x^2(x^5)\\
&=  5x^7+3x^7=8x^7\end{aligned}
$$

结果与指数法则一致。

{% hint style="info" %}
**证明（乘法法则）：**令 $$u(x) = f (x)g(x)$$ 。

$$\frac{u(x+h)-u(x)}{h}=\frac{f(x+h)g(x+h)-f(x)g(x)}{h}$$ 

分子部分同时加上和减去 $$ f (x + h)g(x) $$ 

$$\frac{f(x+h)g(x+h)-f(x+h)g(x)+f(x+h)g(x)-f(x)g(x)}{h} \\ =f(x+h)\left(\frac{g(x+h)-g(x)}{h}\right)+\left(\frac{f(x+h)-f(x)}{h}\right)g(x)$$ 

随着 h → 0，结果变成 $$f (x)g^′(x) + f^′(x)g(x)$$ 。

□
{% endhint %}

乘法法则不仅在计算上有用：它还使我们能够找到其它函数的导数。 例如，我们以前证明了正指数的指数法则。 但是现在我们可以证明该法则在指数为分数和负数时也成立。

例如指数法则预测：如果 $$y=\sqrt{x}=x^{\frac{1}{2}}$$ ，则 $$y^′=\frac{q}{2}x^{-\frac{1}{2}}=\frac{1}{2\sqrt{x}}$$ 。

让我们使用乘法法则验证一下它为何是对的。假设

$$
\begin{aligned}
u(x)&=\sqrt{x} \\
u(x)u(x)&=\sqrt{x}\sqrt{x}=x
\end{aligned}
$$

我们在等式两边同时求导，根据乘法法则，我们得到

$$u(x)u′(x) + u′(x)u(x) = 1$$ 

这样 $$2u(x)u^′(x) = 1$$ ，

$$
u^′(x)=\frac{1}{2u(x)}=\frac{1}{2\sqrt{x}}
$$

{% hint style="info" %}
指数法则同时预测了负指数 $$ y = x^{−n}$$ 的导数

$$y^′=-nx^{-n-1}=\frac{-n}{x^{n+1}}$$ 

为证明这一点，令 $$u(x) = x^{−n}$$ ，其中 n ≥ 1。根据定义， x ≠ 0时，有 $$u(x) x^n = x^{−n}x^n = x^0 = 1$$ 。

当我们对等式两边同时求微分，乘法法则告诉我们 $$u(x)(nx^{n−1}) + u^′(x)x^n = 0$$ 。

将第一项移到等式右边，并同时除以 $$x^n$$ 

$$u^′(x)=-n\frac{u(x)}{x}=\frac{-n}{x^{n+1}}$$ 

□

这样，如果 $$ y = 1/x = x^{−1}$$ ，则 $$y^′ = −1/x^2$$ 。

如果 $$y = 1/x^2 = x^{−2}$$ ，则 $$y^′ = − 2x^{−3} = − 2/x^3$$ 。
{% endhint %}

第7章中，我们希望能找到是函数y = x + 1/x值最小的正数x。

使用巧妙的几何方法，我们证明这一点是x = 1。但是使用微积分，我们不必如此聪明。我们仅需解决y′ = 0，即 $$1 − 1/x^2 = 0$$ 。满足我们需求的唯一正数是x = 1。

三角函数也可求微分。 请注意，为了使下面的定理成立，角必须以弧度表示。

**定理：**如果 $$y = \sin x$$ ，则 $$y^′ = \cos x$$ 。 如果 $$y = \cos x$$ ，则 $$y^′ =-\sin x$$ 。 换句话说，正弦的导数是余弦，余弦的导数是负的正弦。

{% hint style="info" %}
**证明：**证明依赖于下面的引理 （引理是一个可以帮助我们证明更重要的定理的描述）

。

**引理：**

\*\*\*\*$$\lim_{h \to 0}\frac{\sinh}{h}=1\ 且 \lim_{h \to 0}\frac{\cos h-1}{h}=0$$ ****

这就是说，对于接近0的任何微小角度h（以弧度表示），其正弦值非常接近h，其余弦值非常接近1。例如，计算器显示sin 0.0123 = 0.0122996.... 和cos0.0123 = 0.9999243...。现在假设引理成立，我们可以微分正弦函数和余弦函数。 我们使用了第9章的sin\(A + B\)恒等式。

$$\begin{aligned} \frac{\sin(x+h)-\sin x}{h}&=\frac{\sin x \cos h+\sin h \cos x - \sin x}{h} \\ &= \sin x\left(\frac{\cos h -1}{h}\right)+\cos x \left(\frac{\sin h}{h}\right) \end{aligned}$$ 

随着 h → 0，根据我们的引理，上面的表达式可以写成 $$(\sin x)(0) + (\cos x)(1) = \cos x$$ 。同样可以得到

$$\begin{aligned} \frac{\cos(x+h)-\cos x}{h}&=\frac{\cos x \cos h-\sin h \sin x - \cos x}{h} \\ &= \cos x\left(\frac{\cos h -1}{h}\right)-\sin x \left(\frac{\sin h}{h}\right) \end{aligned}$$ 

当h → 0，表达式变成 $$(\cos x)(0) − (\sin x)(1) = − \sin x$$ 。

结论得证

□
{% endhint %}

{% hint style="info" %}
我们可以利用下图证明

$$\lim_{h \to 0}\frac{\sin h}{h}=1$$ 

![](.gitbook/assets/image%20%28195%29.png) 

在上面的单位圆上 $$R = (1,\ 0)、P = (\cos h,\ \sin h)$$ 。其中h是一个很小的正角。同样在直角三角形OQR中， $$\tan h = \frac{QR}{OR}=\frac{QR}{1}=QR$$ 。![](file:///C:/Users/samuel/AppData/Local/Temp/msohtmlclip1/01/clip_image094.jpg)

直角三角形OPS的面积是 $$½\cos h \sin h$$ ，直角三角形OQR的面积 $$\frac{1}{2}ORQR=\frac{1}{2}\tan h=\frac{\sin h}{2\cos h}$$ 。![](file:///C:/Users/samuel/AppData/Local/Temp/msohtmlclip1/01/clip_image096.jpg)

现在看看扇形OPR，它是一个楔形。单位圆面积是 $$π1^2 = π$$ ，扇形OPS的面积是单位圆的 $$h/(2π)$$ 。这样扇形面积是 $$π(h/2π) = h/2$$ 。

因为扇形OPS包含三角形OPS并被三角形OQR包含。比较它们的面积，我们得到 $$\frac{1}{2}\cos h \sin h<\frac{h}{2}<\frac{\sin h}{2\cos h}$$ 。![](file:///C:/Users/samuel/AppData/Local/Temp/msohtmlclip1/01/clip_image098.jpg)

通过都乘以 $$\left(\frac{2}{\sin h}\right)>0$$ ，我们得到 $$\cos h < \frac{h}{\sin h} < \frac{1}{\cos h}$$ 。![](file:///C:/Users/samuel/AppData/Local/Temp/msohtmlclip1/01/clip_image102.png)

对于正数，如果a &lt; b &lt; c, 则 1/c &lt; 1/b &lt; 1/a。所以， $$\cos h < \frac{\sin h}{h} < \frac{1}{\cos h}$$ 。![](file:///C:/Users/samuel/AppData/Local/Temp/msohtmlclip1/01/clip_image104.png)

现在到h → 0，cosh和1/cosh都趋近于1。这样 $$\lim_{h \to 0}\frac{\sin h}{h}=1$$ 。![](file:///C:/Users/samuel/AppData/Local/Temp/msohtmlclip1/01/clip_image106.png)

□
{% endhint %}

{% hint style="info" %}
使用之前的结果和少量的代数，我们能证明 $$\lim_{h \to 0}\frac{\cos h -1}{h}=0$$ 。利用之前的结果和几行代数（包括 $$\sin^2h+\cos^2h=1$$ ）。

$$\frac{\cosh -1}{1}=\frac{\cos h-1}{1}*\frac{\cos h+1}{\cos h+1}=\frac{\cos^2h-1}{h(\cosh+1)}\\ =\frac{-\sin^2h}{h(\cosh+1)}=-\frac{\sin h}{h}*\left(\frac{\sin h}{(\cos h +1}\right)$$   
 现在另h → 0， $$\frac{\sin h}{h}\to 1$$ ， $$\frac{\sin h}{\cos h + 1} \to \frac{0}{2} = 0$$。

所以 $$\lim_{h \to 0}\frac{\cos h - 1}{h}=0$$ 。

□
{% endhint %}

一旦我们知道了正弦和余弦的导数，我们就可以对正切函数进行微分。

**定理：**对于 $$y = \tan x，\ y^′  = 1 /(\cos^2x) = \sec^2x$$ 。

**证明：**令 $$u(x) = \tan x = (\sin x)/(\cos x)$$ 。 然后 $$\tan x\cdot\cos x = \sin x$$ 。

对两边求微分并使用乘法法则，我们得到

$$\tan x(-\sin x) + \tan^′ (x)\cos x = \cos x$$ 

除以 $$\cos x$$ 并求解 $$\tan^′x$$ 

$$\tan^′x=1+\tan x\tan x=1+\tan^2 x=\frac{1}{\cos^2x}=\sec^2x$$ 

其中倒数第二步实际上是将等式 $$\cos^2 x + \sin^2 x = 1$$ 除以 $$\cos^2 x$$ 。

□

利用相似的方法我们可以证明微分的除法法则。

**定理（除法法则）：**如果 $$u(x) = f (x)/g(x)$$ ，则

$$
u^′(x)=\frac{g(x)f^′(x)-f(x)g^′(x)}{g(x)g(x)}
$$

{% hint style="info" %}
**除法法则的证明：**因为 $$u(x)g(x) = f (x)$$ ，当我们两边同时求微分时，根据乘法法则 $$u(x)g^′(x) + u^′(x)g(x) = f^′(x)$$ 

两边同时乘以 $$g(x)$$ ,

$$g(x)u(x)g^′(x) + u^′(x)g(x)g(x) = g(x)f^′(x)$$ 

将 $$g(x)u(x)$$替换成 $$ f (x)$$， $$u^′(x)$$ 正是我们想要的。

□
{% endhint %}

我们知道如何对多项式、指数函数，三角函数等进行微分。 我们已经看到如何在函数被加，乘和除时进行微分。 **连锁规则**（陈述如下，但不做证明）告诉我们如何对复合函数进行微分。 例如， $$f(x) = \sin x$$ 且 $$g(x) = x^3$$ ，那么 $$f(g(x)) = \sin(g(x)) = \sin(x^3)$$ 。

注意反过来得到不同的函数

$$g(f(x)) = g(\sin x) = (\sin x)^3$$ 

**定理（连锁法则）：** $$y = f (g(x))$$，有 $$y^′ = f^′(g(x))g^′(x)$$ 。

例如, 如果 $$f (x) = \sin x$$ ， $$g(x) = x^3$$，则 $$f^′(x) = \cos x$$ 、 $$g^′(x)=3x^2$$ 。根据连锁法则 $$y = f (g(x)) = \sin(x^3)$$ ， $$ y^′ = f^′(g(x))g^′(x) = \cos(g(x))g^′(x) = 3x^2 \cos(x^3)$$ 。

更一般的，根据连锁法则 $$y =\sin(g(x)),\ y^′ = g^′(x) \cos(g(x))$$ 。根据相同的逻辑 $$y = \cos(g(x))，\ y^ ′= −g^′(x) \sin(g(x))$$ 。

另一方面，对函数 $$y = g(f (x)) = (\sin x)^3$$ ，根据连锁法则 $$y^′ = g^′(f(x))f^′(x) = 3(f(x)^2)$$ ， $$f^′(x) = 3 \sin^2 x \cos x$$ 。

更一般的，根据连锁法则 $$y = (g(x))n,\ y^′ = n(g(x))^{n−1} g^′(x)$$ 。依据连锁法则，函数 $$y = (x^3)^5$$ 的结果是什么样的呢？

$$y^′ = 5(x^3)4(3x^2) = 5x^{12}(3x^2) = 15x^{14}$$ 

结果和指数法则一致。

让我们求的微分

$$
\begin{aligned}
&y=\sqrt{x^2+1}=(x^2+1)^{1/2} \\
&y^′ =\frac{1}{2}(x^2+1)^{-1/2}(2x)=\frac{x}{\sqrt{x^2+1}}
\end{aligned}
$$

指数函数的微分也变得很容易。因为 $$e^x $$ 是它自身的微分，如果 $$y = e^{g(x)}$$ ，则 $$y^′ = g^′(x)e^{g(x)}$$ 。

例如， $$y = ex^3 $$ 的导函数是 $$ y^′ = (3x^2)e^{x^3}$$ 。

注意函数 $$y = e^{kx}$$ 具有导函数 $$y^' = ke^{kx} = ky$$ 。 这是使指数函数如此重要的属性之一。 当一个函数的增长率与其输出的大小成正比时，指数函数就会出现。 这就是为什么指数函数经常出现在财务和生物问题中的原因。

自然对数函数 $$\ln x$$ 具有这样的性质 $$e^{\ln x} = x$$ 。

对x &gt; 0，让我们使用连锁法则推算它的导数。令 $$u(x) = \ln x$$ ，我们得到 $$ e^{u(x)} = x$$ 。接下来 $$u^′(x) = 1/x$$ 。换句话，如果 $$y = \ln x$$，则  。再次应用连锁法则 $$y = \ln(g(x))$$ ，

$$
y^′ =\frac{g^′ (x)}{g(x)}
$$

我们总结连锁规则的结果如下:

| $$y=f(g(x))$$  | $$y^′ = f^′(g(x))g^′(x)$$  |
| :--- | :--- |
| $$y=\sin(g(x))$$  | $$y^′ = g^′(x)\cos(g(x))$$  |
| $$y=(g(x))^n$$  | $$y^′ = n(g(x))^{n-1}g^′(x)$$  |
| $$y=e^{g(x)}$$  | $$y^′ = g^′(x)e^{g(x)}$$  |
| $$y=\ln(g(x))$$  | $$y^′ = g^′(x)/g(x)$$  |

让我们运用连锁规则来解决奶牛问题！ 奶牛克拉拉在河以北一英里处，这条河从东向西流。 谷仓位于它目前位置以东三英里，以北一英里处。 它从河边喝水，然后回到谷仓。为以减少它的总步行量，它应该在河边的哪一点停下来喝水？

![&#x5976;&#x725B;&#x514B;&#x62C9;&#x62C9;&#x95EE;&#x9898;&#xFF1A;&#x5728;&#x6CB3;&#x8FB9;&#x7684;&#x54EA;&#x4E00;&#x5904;&#x505C;&#x4E0B;&#x4E86;&#x559D;&#x6C34;&#xFF0C;&#x5976;&#x725B;&#x7ECF;&#x8FC7;&#x7684;&#x8DEF;&#x7A0B;&#x6700;&#x77ED;](.gitbook/assets/image%20%28197%29.png)

假定克拉拉沿直线从 \(0, 1\)走到\(x, 0\)饮水，根据勾股定理（或者距离公式），这一段路程的长度是 $$\sqrt{x^2+1}$$ 。回到谷仓B = \(3, 2\)的距离是 $$\sqrt{(3-x)^2+4}=\sqrt{x^2-6x+13}$$ 。

这样问题变成，在0和3之间推导x，使得下面的方程值最小 $$y=\sqrt{x^2+1}+\sqrt{x^2-6x+13}=(x^2+1)^{1/2}+(x^2-6x+13)^{1/2}$$ 。

我们对上面的方程式求微分并令其等于0

$$
\frac{x}{x^2+1}+\frac{x-3}{x^2-6x+13}=0
$$

你可以验证，x = 1，等式左边变成，其值正好是0。

我们可以使用第7章中的镜像法来证实我们的答案。想象一下，饮水之后，克拉拉不再去（3，2）的谷仓，而是去了谷仓的镜像B'=（3， - 2），如下图所示

![&#x5229;&#x7528;&#x955C;&#x50CF;&#xFF0C;&#x6211;&#x4EEC;&#x6709;&#x4E00;&#x4E2A;&#x4E0D;&#x540C;&#x7684;&#x89E3;&#x9898;&#x65B9;&#x6CD5;](.gitbook/assets/image%20%28198%29.png)

克拉拉到B'的距离与到B的距离完全相同。从河上到河下的每个点必须在某处穿过x轴。 具有最短距离的路径是从（0，1）到（3，-2）（斜率-3 / 3 = -1）的直线。这条直线当x = 1时与x轴相交。本方法不需要微分或平方根！

## 神奇的应用：泰勒级数

当我们在上章末尾证明欧拉方程时，我们依靠的是以下神秘的公式：

$$
\begin{aligned}
&e^x=1+x+\frac{x^2}{2!}+\frac{x^3}{3!}+\frac{x^5}{5!}+\dots \\
&\cos x=1-\frac{x^2}{2!}+\frac{x^4}{4!}-\frac{x^6}{6!}+\dots \\
&\sin x=x-\frac{x^3}{3!}+\frac{x^5}{5!}-\frac{x^7}{7!}+\dots 
\end{aligned}
$$

在我们搞清楚它们是如何得到的之前，让我们先轻松一下。看看对ex的级数的每一项求微分时会发生什么？例如，指数法则告诉我们， $$x^4 / 4$$ 的导数！是 $$(4x^3)/ 4！ = x^3/ 3！$$ ，这是级数中的前一项。换句话说，当我们将 $$e^x$$ 的级数微分时，我们再次得到 $$e^x$$的级数，这与我们对 $$e^x$$的认识一致！

如果我们对 $$x - x^3 / 3！ + x^5 / 5！- x^7 / 7！ +···$$ 的各项求微分，我们得到 $$1 - x^2 / 2！ + x^4 / 4！ - x^6 / 6！ +···$$ ，这与正弦函数的导数是余弦函数的事实一致。同样，当我们求余弦级数的微分时，我们得到了正弦级数的负值。还要注意，该级数确认了 $$\cos 0 = 1$$ ，并且因为每个指数都是偶数，所以 $$\cos(- x)$$ 的值将与 $$\cos x$$ 相同，这些都是我们知道的事实。 （例如， $$(-x)^4/4！= x^4 / 4 !$$ ）同样，对于正弦级数，我们看到 $$\sin 0 = 0$$ 并且因为所有指数都是奇数，我们得到 $$\sin(- x)= - \sin x$$ 。

现在让我们看看这些公式是如何得来的。在本章中，我们学习了如何找到最常用函数的导数。但有些时候，计算它的二阶导数或三阶导数或更多阶导数也是很有用的。我们用 $$f^{′′}(x)，f^{′′′}(x)$$ 等表示函数的高阶导数。二阶导数 $$f^{′′}(x)$$ 量度函数在点 $$（x，f(x)）$$ 处函数斜率（也称为凹度）的变化率。三阶导数测量二阶导数的变化率，依此类推。

上面给出的公式称为泰勒级数，以英国数学家布鲁克泰勒（Brook Taylor，1685-1731）命名。对于具有导数 $$f^′(x)、f^{′′}(x)、f^{′′′}(x)$$ 等的函数 $$f(x)$$ ，当x非常接近于0时，我们有

$$
f(x)=f(0)+f^′(0)x+f^{′′}(0)\frac{x^2}{2!}+f^{′′′}(0)\frac{x^3}{3!}+f^{′′′′}(0)\frac{x^4}{4!}+\dots
$$

非常接近是什么意思呢？对于某些函数，如 $$e^x$$ 、 $$\sin x$$ 和 $$\cos x$$ ，所有的x都是非常接近。但是对另一些我们将在后面看到函数，x必须很小，否则级数展开就不能很好的近似原函数。

让我们看看 $$f (x) = e^x$$ 的公式是什么？因为 $$e^x$$ 是它的第一个（第二、第三……）导数，所以

$$f (0) = f^′(0) = f^{″}(0) = f^{′″}(0) = · · · = e^0 = 1$$ 

 $$e^x$$ 的泰勒级数是 $$ 1 + x + x^2/2! + x^3/3! + x^4/4! + . . . $$ 。当x非常小时，我们只要计算级数的前几项即可得到一个精确值的近似。

让我们应用这种方法计算复利。在上一章中，我们看到，在5%连续复利下，$1000本金一年后会变成 $$$1000e^{0.05} = $1051.27$$ 。不过我们可以用二阶泰勒多项式近似得到一个很好的估计

$$$1000(1 + 0.05 + (0.05)^2/2!) = $1051.25$$ 

三阶多项式得出$1051.27。

我们在下图中说明泰勒近似，其中y = ex与其前三个泰勒多项式一起绘制。

![e^x&#x7684;&#x6CF0;&#x52D2;&#x8FD1;&#x4F3C;](.gitbook/assets/image%20%28196%29.png)

当我们增加泰勒多项式的阶数时，近似值变得越来越精确，特别是对于接近0的x值。那么泰勒多项式是如何使它们工作得这么好？ 一阶近似（也称为线性近似）说，对于接近0的x，

$$f(x) ≈ f(0) + f^′(0)x$$ 

这是通过点 $$(0，f(0))$$ 并具有斜率 $$f^′(0)$$ 的直线。 同样，可以证明，第n次泰勒多项式经过点 $$(0，f(0)$$ 时和 原函数f\(x\)具有相同的一阶导数，相同的二阶导数，相同的三阶导数等等，直到第n阶导数。

{% hint style="info" %}
泰勒多项式和泰勒级数可以被定义成当x接近任意的数。特别的是， $$f (x)$$ 基点a处的泰勒级数是

$$\begin{aligned}  f(a)+  f^′(a)(x-a)+  f^{′′}(a)\frac{(x-a)^2}{2!} \end{aligned}+  f^{′′′}(a)\frac{(x-a)^3}{3!}+\dots $$ 

与当a = 0时一样，对于所有足够接近a的实数或复数x，该泰勒级数等于f\(x\)。
{% endhint %}

让我们看看 $$ f (x) = \sin x$$ 的泰勒级数。注意 $$f^′(x) = \cos x，\ f^{″}(x) = − \sin x，\ f^{′″}(x) = − \cos x，\ f^{″″}(x) = \sin x = f (x)$$ 。当它在0处取值时，从f\(0\)开始，我们得到0, 1, 0, −1, 0, 1, 0, −1, . . . 的循环模式，使得x的每一个偶次幂在泰勒级数中消失。因此，对于x的所有值\(以弧度计算\)

$$
\sin x=x-\frac{x^3}{3!}+\frac{x^5}{5!}-\frac{x^7}{7!}+\dots
$$

类似的，对于 $$f (x) = \cos x$$ ，我们得到

$$
\cos x = 1-\frac{x^2}{2!}+\frac{x^4}{4!}-\frac{x^6}{6!}+\dots
$$

最后，让我们看一个例子。此例子中，泰勒级数在x取一些值时等于该函数，但不是x的所有值。考虑

$$
f(x)=\frac{1}{1-x}=(1-x)^{-1}
$$

这里f \(0\) = 1，使用连锁法则，前几阶导数是

$$\begin{aligned} &f^′(x) = −1(1 − x)^{−2}(−1) = (1 − x)^{−2} \\ &f^{″}(x) = (−2)(1 − x)^{−3}(−1) = 2(1 − x)^{−3} \\ &f^{′″}(x) = −6(1 − x)^{−4}(−1) = 3!(1 − x)^{−4} \\ &f^{″″}(x) = −4!(1 − x)^{−5}(−1) = 4!(1 − x)^{−5} \end{aligned}$$ 

 继续这种模式（或通过归纳法证明），我们看到 $$(1 − x)^{−1}$$ 的第n阶导数是 $$n!(1 − x)^{−(n+1)}$$ ，当x = 0时，第n阶导数刚好是 $$n !$$ 。 因此，泰勒级数给了我们

$$
\frac{1}{1-x}=1+x+x^2+x^3+x^4+\dots
$$

但是这个方程只有在x在-1和1之间时才有效。例如，当x大于1时，相加的数变得越来越大，总和将不确定。

我们将在下一章详细讲述这个级数。 与此同时，你可能想知道将无穷的数加起来是什么意思。 这样的总和怎么能有一个结果？ 这是一个值得研究的问题。我们会在探索无穷的本质时，试图回答它。在那里我们会遇到许多令人惊讶，困惑，不直观和美丽的结果。

