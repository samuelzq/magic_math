# 第四章

  
3! − 2! = 4

## 计数的魔力

**数学与感叹号！**

这本书由从1一直加到100这个问题开始。我们发现总数为5050，并且找到了前n个数求和的一个很好的公式。 现在假设我们有兴趣找到从1到100的乘积; 我们会得到什么？ 一个非常大的数！ 如果你很好奇，下面给出的是一个158位的数：

93326215443944152681699238856266700490715968264381621468592963895217599993229915608941463976156518286253697920827223758251185210916864000000000000000000000000

在本章中，我们将看到这样的数是如何成为计数问题的基础的。这些数将使我们能够断定在书架上有多少种摆放图书的方法（接近5亿），有多大可能性在一副扑克牌中得到一对，你赢得乐透彩的机会。

当从1开始一直乘到n，我们将积表示为n！，这被称为“n的阶乘”。换句话

n! = n × \(n − 1\) × \(n − 2\) × · · · × 3 × 2 × 1

例如

5! = 5 × 4 × 3 × 2 × 1 = 120

我认为感叹号是适当的符号，因为n！增长得非常快。 我们将会看到，它有很多令人兴奋和惊讶的应用。 为了方便，数学家定义了0！= 1，n！在n是负数时没有定义。

<table>
  <thead>
    <tr>
      <th style="text-align:left">
        <p><b>&#x65C1;&#x767D;</b>
        </p>
        <p>&#x6839;&#x636E;&#x5B9A;&#x4E49;&#xFF0C;&#x5F88;&#x591A;&#x4EBA;&#x8BA4;&#x4E3A;0&#xFF01;&#x5E94;&#x8BE5;&#x7B49;&#x4E8E;0&#x3002;&#x4F46;&#x662F;&#x8BA9;&#x6211;&#x6765;&#x8BF4;&#x670D;&#x4F60;&#x4E3A;&#x4F55;0&#xFF01;=
          1&#x662F;&#x5408;&#x7406;&#x7684;&#x3002;&#x6CE8;&#x610F;&#x5BF9;n &#x2265;
          2, n! = n &#xD7; (n &#x2212; 1)!&#xFF0C;&#x6240;&#x4EE5;</p>
        <p>(n &#x2013; 1)! = n!/n</p>
        <p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x8FD9;&#x4E00;&#x8868;&#x8FBE;&#x5F0F;&#x5728;n
          = 1&#x65F6;&#x4ECD;&#x6210;&#x7ACB;&#xFF0C;&#x5219;&#x5FC5;&#x987B;</p>
        <p>0! = 1!/1 = 1</p>
      </th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

从下表中可看出，阶乘增长的速度很快

0！  = 1

1！  = 1

2！  = 2

3！  = 6

4！  = 24

5！  = 120

6！  = 720

7！  = 5040

8！  = 40,320

9！  = 362,880

10！ = 3,628,800

11！ = 39,916,800

12！ = 479,001,600

13！ = 6,227,020,800

20！ = 2.48 ×1018

52！ = 8.07 ×1067

100！= 9.33 ×10157

这些数有多大呢？据估算，世界上约有1022颗沙子，宇宙中有大约1080颗原子。如果你洗一副52张的扑克牌，你将得到52！种不同的混合方式。你所获得的混合顺序很有可能从来没有也不会再次出现，即使地球上的每一个人在接下来的100万年里每一分钟都在洗牌。

<table>
  <thead>
    <tr>
      <th style="text-align:left">
        <p><b>&#x65C1;&#x767D;</b>
        </p>
        <p>&#x5728;&#x672C;&#x7AE0;&#x4E00;&#x5F00;&#x59CB;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F60;&#x5F88;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x6CE8;&#x610F;&#x5230;100&#xFF01;&#x5C06;&#x4F1A;&#x4EE5;&#x5F88;&#x591A;&#x7684;0&#x7ED3;&#x5C3E;&#x3002;&#x8FD9;&#x4E9B;0&#x90FD;&#x662F;&#x54EA;&#x91CC;&#x6765;&#x7684;&#x5462;&#xFF1F;&#x5F53;&#x6211;&#x4EEC;&#x4ECE;1&#x4E00;&#x76F4;&#x4E58;&#x5230;100&#x65F6;&#xFF0C;&#x6BCF;&#x5F53;5&#x7684;&#x500D;&#x6570;&#x4E58;&#x4EE5;&#x4E00;&#x4E2A;&#x5076;&#x6570;&#x65F6;&#xFF0C;&#x6211;&#x4EEC;&#x4FBF;&#x80FD;&#x5F97;&#x5230;&#x4E00;&#x4E2A;0&#x3002;1&#x548C;100&#x4E4B;&#x95F4;&#x6709;20&#x4E2A;5&#x7684;&#x500D;&#x6570;&#x548C;50&#x4E2A;&#x5076;&#x6570;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x6211;&#x5C06;&#x5728;&#x4E58;&#x79EF;&#x7684;&#x5C3E;&#x90E8;&#x770B;&#x5230;20&#x4E2A;0&#x3002;&#x4F46;&#x662F;25&#x3001;50&#x3001;75&#x548C;100&#x90FD;&#x6709;&#x4E24;&#x4E2A;&#x56E0;&#x5B50;5&#xFF0C;&#x6240;&#x4EE5;100&#xFF01;&#x5C06;&#x4EE5;24&#x4E2A;0&#x7ED3;&#x5C3E;&#x3002;</p>
      </th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

就像第一章一样，有许多数型用到了阶乘。这里有一个我很喜欢的

1×1! = 1 = 2! – 1

1×1! + 2×2! = 5 = 3! - 1

1×1! + 2×2! + 3×3! = 23 = 4! - 1

1×1! + 2×2! + 3×3! + 4×4! = 119 = 5! – 1

1×1! + 2×2! + 3×3! + 4×4! + 5×5! = 719 = 6! - 1

                          …

加法原理和乘法原理

大多数计数问题基本可归结为两条原理：加法原理和乘法原理。 当你拥有不同类型选择时，你需要使用加法原理来计算可能的选择总数。 例如，如果你有3件短袖衬衫和5件长袖衬衫，那么你有8种不同的衬衫可供选择。 一般来说，如果你有两种类型的对象，第一种类型有a种选择，第二种类型有b种选择，那么你总共有a + b个不同的对象（假设a和b中没有形同的选项）。

<table>
  <thead>
    <tr>
      <th style="text-align:left">
        <p><b>&#x65C1;&#x767D;</b>
        </p>
        <p>&#x5982;&#x4E0A;&#x6240;&#x8FF0;&#xFF0C;&#x52A0;&#x6CD5;&#x539F;&#x7406;&#x5047;&#x5B9A;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#x7684;&#x5BF9;&#x8C61;&#x4E2D;&#x6CA1;&#x6709;&#x76F8;&#x540C;&#x7684;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x6709;c&#x4E2A;&#x5BF9;&#x8C61;&#x540C;&#x65F6;&#x5C5E;&#x4E8E;&#x4E24;&#x79CD;&#x7C7B;&#x578B;&#xFF0C;&#x5219;&#x8FD9;c&#x4E2A;&#x5BF9;&#x8C61;&#x4F1A;&#x88AB;&#x91CD;&#x590D;&#x8BA1;&#x6570;&#x3002;&#x8FD9;&#x6837;&#x603B;&#x91CF;&#x5C31;&#x662F;a
          + b - c&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E00;&#x4E2A;&#x73ED;&#x4E2D;&#x6709;12&#x540D;&#x540C;&#x5B66;&#x517B;&#x72D7;&#xFF0C;19&#x540D;&#x540C;&#x5B66;&#x517B;&#x732B;&#xFF0C;7&#x540D;&#x540C;&#x5B66;&#x5373;&#x517B;&#x72D7;&#x53C8;&#x517B;&#x732B;&#xFF0C;&#x5219;&#x517B;&#x72D7;&#x548C;&#x517B;&#x732B;&#x7684;&#x5B66;&#x751F;&#x603B;&#x6570;&#x662F;12
          + 19 &#x2212; 7 = 24&#x3002;&#x518D;&#x4E3E;&#x4E00;&#x4E2A;&#x4F8B;&#x5B50;&#xFF0C;1&#x5230;100&#x6709;50&#x4E2A;2&#x7684;&#x500D;&#x6570;&#xFF0C;33&#x4E2A;3&#x7684;&#x500D;&#x6570;&#xFF0C;16&#x4E2A;6&#x7684;&#x500D;&#x6570;&#xFF08;&#x5373;&#x662F;2&#x4E5F;&#x662F;3&#x7684;&#x500D;&#x6570;&#xFF09;&#x3002;&#x90A3;&#x4E48;&#x4ECE;1&#x5230;100&#xFF0C;2&#x6216;3&#x7684;&#x500D;&#x6570;&#x6709;50
          + 33 - 16=67&#x4E2A;&#x3002;</p>
      </th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

乘法原理指，如果一个动作可分两步，第一步有a种方法，第二步有b种方法。则完成该动作将有a × b种方式。例如，你有5条裤子和8件衬衫，如果我不介意裤子和衬衫的颜色是否匹配（恐怕我要向多数数学家道歉了），那么搭配的数量将有5 × 8 = 40。如果我们有10条领带，则裤子、衬衫和领带的搭配方案将于40 × 10 = 400。

在一套典型的扑克牌中，每张牌可能是4种花色（黑桃、红桃、方片或者草花）中的一种，大小是13个值中的一个（A、2、3、4、5、6、7、8、9、10、J、Q或K）。 因此，一副牌中的牌数是4 × 13 = 52。如果我们想的话，我们可以将52张牌摆成一个4 × 13的矩形，这是另一种看到有52张牌的方式。

让我们使用乘法原理来计算区号。理论上5位数的区号有多少呢？区号的每一位可能选择0到9的任意一个数，所以最小的区号是00000，最大的区号是99999；这样将有100000种可能性。但是你可以通过乘法原理看到这一结果。从第一位到第五位，每一位上的选择都是10种。这样将有105 = 100,000种可能的区号。

当我们数区号时，每一位上的数字可以重复。现在让我们看一看对象不允许重复的情况，例如你在一行种排列对象。很容易看到两个不同的对象可以有两种不同的排列方案。比如，字母A和B可以组成AB或BA。3个对象可以有6种排列方式: ABC、ACB、BAC、BCA、CAB、CBA。现在你不需要将所有可能的排列方式都写出来，便能够知道4个对象有多少种排列方式。第一个字母有4种选择（A或B或C或D）。一旦第一个字母确定，第二个字母将有3种选择，接着下一个字母有2种选择，最后一个字母则仅有一种选择。总而言之，将会有4 × 3 × 2 × 1 = 4! = 24种可能性。通常，n个对象有n！种排列方式。

下一个例子中，我们将加法原理和乘法原理组合。假设某个州生产两种类型的车牌。第一种类型是3个字母跟着3个数字组成。第二种类型是2个字母跟着4个数字。车牌会有多少种呢（我们允许使用26个字母和10个数字，不考虑相似字母例如O和o所带来的困扰）？根据乘法原理，第一种类型的车牌有：

26 × 26 × 26 × 10 × 10 × 10 = 17,576,000

第二种类型的车牌有

26 × 26 × 10 × 10 × 10 × 10 = 6,760,000

既车牌要么是第一种类型要么是第二种类型，因此使用加法原理得总的车牌数是：24,336,000。

令人高兴的是，解决技数问题（数学家称这个数学分支为组合数学）的方法往往不止一种（我们在心算时也看到了这一点）。刚刚这个问题也可以使用一步计算完成。车牌的总数是：

26 × 26 × 36 × 10 × 10 × 10 = 24,336,000

因为前两个字符的选择都是26种，最后三个字符的选择都是10种，第三个字符可能是字母或数字，因此有26 + 10 = 36种选择。  


乐透和扑克牌

本节中，我们将应用我们新学的计数技能来判断赢取乐透奖的机会，或者处理各种类型的扑克牌。 但首先让我们先来点冰淇淋放松一下。

假设一家冰激凌店提供10种口味的冰激凌。你将能够制作多少种三球蛋筒。做蛋筒时，不同口味冰激凌的顺序是很重要的（当然啦！）。如果同一口味可以有多个球的话，那么每个球将有10种选择，我们将会做出103 = 1000种不同的蛋筒。如果我们坚持要求3种口味必须不同，那么蛋筒的种类是10 × 9 × 8 = 720。

现在有一个真实的问题。你能找到多少种方法在一个杯中装三种不同口味的冰激凌？此时是否需要考虑口味的排列顺序？因为顺序不需要考虑，因此可能性将减少。事实上，种类将会是考虑顺序时的1/6。为什么？对杯中任何三种不同的口味（假设是巧克力、香草和薄荷），放在蛋筒上时，有3! = 6种排列方式。这样便是杯中的6倍。因此，杯中冰激凌的组合数就是

10 × 9 × 8的另一种写法是（虽然第一种写法更容易计算）。这样，杯中冰激凌的组合可以写作我们称这个表达式“10选3”，符号表示是。它的值等于120。通常，从n个对象中取出k个对象，且不考虑对象取的顺序，总的方法有。数学家们称这一计数问题为组合问题。形如的数被称为二项式系数。考虑顺序的计数问题被称为排列问题。这些术语很容易被搞混。比如，英文密码锁“combination lock”实际上应该是“permutation lock”，因为秘钥中数字的顺序很重要。

杯中3种不同口味的冰激凌在蛋筒中有3! = 6 种排列方式。

如果冰激凌点提供20种口味的冰激凌，而你想选择其中5种不同的口味，则你将有

种选择。顺便说一句，如果你的计算器无法计算，你可以在你喜欢的搜索引擎中试着输入“20 choose 5”。你很可能得到想要的答案。

  
 二项式系数有时出现在顺序似乎很重要的问题上。如果我们抛10次硬币，结果的顺序将会有多少种（正反正反反正正反反反或正正正正正正正正正正）？既然每一次抛掷的结果都有两种可能，那么根据乘法原理，最后的结果会有 210 = 1024种，而每一种结果都有相同的可能性（很多人可能会很吃惊，因为连续10次正面的结果看上去更不可能发生，但是它和其它情况都具有相同可能性1/1024）。另一方面，十次抛硬币得4次正面的概率要大于10次全是正面的概率。十次全是正面的情况只有一种，所以可能性只有1/1024。但是10次中得到4次正面的机会有多少呢？所得结果只能是4次正面和6次反面。确定10次抛掷中哪4次是正面的方法有种（如同在10种不同口味冰激凌中选4种一样）。这样当一个质地均匀的硬币被抛掷10次以后，我们正好得到4次正面的概率是

大概占总体的20%。

<table>
  <thead>
    <tr>
      <th style="text-align:left">
        <p><b>&#x65C1;&#x767D;</b>
        </p>
        <p>&#x5F88;&#x81EA;&#x7136;&#x7684;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x5982;&#x679C;&#x5141;&#x8BB8;&#x53E3;&#x5473;&#x91CD;&#x590D;&#xFF0C;&#x4ECE;10&#x79CD;&#x53EF;&#x80FD;&#x7684;&#x53E3;&#x5473;&#x4E2D;&#x9009;&#x4E09;&#x4E2A;&#x7403;&#xFF0C;&#x5C06;&#x4EA7;&#x751F;&#x591A;&#x5C11;&#x7EC4;&#x5408;&#xFF08;&#x7B54;&#x6848;&#x53EF;&#x4E0D;&#x662F;103/6&#x54E6;&#xFF01;&#x5B83;&#x751A;&#x81F3;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x6574;&#x6570;&#xFF01;&#xFF09;&#xFF1F;&#x76F4;&#x63A5;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x6839;&#x636E;&#x676F;&#x4E2D;&#x53E3;&#x5473;&#x7684;&#x7C7B;&#x578B;&#x8003;&#x8651;&#x4E09;&#x79CD;&#x60C5;&#x51B5;&#xFF1A;&#x676F;&#x4E2D;&#x53EA;&#x6709;&#x4E00;&#x79CD;&#x53E3;&#x5473;&#x7684;&#x60C5;&#x51B5;&#x662F;10&#xFF1B;&#x6839;&#x636E;&#x4E4B;&#x524D;&#x7684;&#x8BA8;&#x8BBA;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x4E09;&#x79CD;&#x53E3;&#x5473;&#xFF0C;&#x5219;&#x6709;&#x79CD;&#x9009;&#x62E9;&#xFF1B;&#x5982;&#x679C;&#x9009;&#x62E9;&#x4E24;&#x79CD;&#x53E3;&#x5473;&#xFF0C;&#x5219;&#x6709;&#x79CD;&#x9009;&#x62E9;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5148;&#x9009;&#x62E9;&#x4E24;&#x79CD;&#x53E3;&#x5473;&#xFF0C;&#x9009;&#x62E9;&#x7684;&#x65B9;&#x5F0F;&#x6709;&#x79CD;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x9009;&#x62E9;&#x5176;&#x4E2D;&#x4E00;&#x79CD;&#x8981;&#x4E24;&#x4E2A;&#x7403;&#x3002;&#x5C06;&#x6240;&#x6709;&#x4E09;&#x79CD;&#x60C5;&#x51B5;&#x52A0;&#x8D77;&#x6765;&#xFF0C;&#x603B;&#x7684;&#x6570;&#x91CF;&#x662F;10
          + 120 + 90 = 220&#x3002;</p>
        <p>&#x8FD8;&#x53EF;&#x4EE5;&#x4E0D;&#x5206;&#x6210;&#x4E09;&#x79CD;&#x60C5;&#x51B5;&#x6765;&#x89E3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;3&#x4E2A;&#x661F;&#x53F7;&#x548C;9&#x4E2A;&#x7AD6;&#x7EBF;&#x4EE3;&#x8868;&#x4EFB;&#x610F;&#x4E00;&#x79CD;&#x51B0;&#x6FC0;&#x51CC;&#x7EC4;&#x5408;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x53E3;&#x5473;1&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x7403;&#xFF0C;&#x53E3;&#x5473;2&#x9009;&#x62E9;2&#x4E2A;&#x7403;&#x7684;&#x60C5;&#x51B5;&#x53EF;&#x4EE5;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;</p>
        <p>* | ** | | | | | | | |</p>
        <p>&#x53E3;&#x5473;2&#x4E24;&#x4E2A;&#x7403;&#xFF0C;&#x53E3;&#x5473;7&#x4E00;&#x4E2A;&#x5982;&#x4E0B;</p>
        <p>| ** | | | | | * | | |</p>
        <p>&#x4E0B;&#x56FE;&#x4EE3;&#x8868;&#x53E3;&#x5473;3&#x3001;5&#x3001;10&#x5404;&#x4E00;&#x4E2A;&#x7403;</p>
        <p>| | * | | * | | | | | *</p>
        <p>3&#x4E2A;&#x661F;&#x53F7;&#x4E0E;&#x7AD6;&#x7EBF;&#x7684;&#x4E0D;&#x540C;&#x7EC4;&#x5408;&#x4EE3;&#x8868;&#x4E86;&#x4E0D;&#x540C;&#x7684;&#x51B0;&#x6FC0;&#x51CC;&#x7EC4;&#x5408;&#x3002;&#x661F;&#x53F7;&#x548C;&#x7AD6;&#x7EBF;&#x4E00;&#x5171;&#x5360;&#x636E;&#x4E86;12&#x4E2A;&#x4F4D;&#x7F6E;&#xFF0C;&#x5176;&#x4E2D;3&#x4E2A;&#x662F;&#x661F;&#x53F7;&#x3002;&#x8FD9;&#x6837;&#x53EF;&#x80FD;&#x7684;&#x6392;&#x5217;&#x6709;&#x79CD;&#x3002;&#x66F4;&#x666E;&#x904D;&#x7684;&#x662F;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x8003;&#x8651;&#x987A;&#x5E8F;&#x5E76;&#x5141;&#x8BB8;&#x91CD;&#x590D;&#xFF0C;&#x4ECE;n&#x4E2A;&#x5BF9;&#x8C61;&#x4E2D;&#x9009;&#x53D6;k&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x5F0F;&#xFF0C;&#x548C;k&#x4E2A;&#x661F;&#x53F7;&#x4E0E;n
          - 1&#x4E2A;&#x7AD6;&#x7EBF;&#x7684;&#x7EC4;&#x5408;&#x65B9;&#x6CD5;&#x4E00;&#x6837;&#x591A;&#x3002;</p>
      </th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

许多涉及机会的问题都和组合问题有关。例如在加州乐透中，你在1到47中选取5个数。另外你在1到27之间选取一个MEGA（可以和之前选取的5个数重复）。MEGA有27种可能，其它5个数有 种可能。因此所有可能的组合有：

你赢得乐透大奖的机会大概是4千万分之一。

现在让我们切换到扑克游戏。一种典型的扑克游戏是从52张扑克牌中选取5张不同的牌，牌的顺序不需要考虑。因此，一手牌的种类有

扑克中，5张牌具有相同的花色，如

被称为同花。同花有多少呢？要创建一个同花，第一要选择花色，共有4种选择（心理上，我喜欢做出明确的选择，比如黑桃）。现在从该花色中选取5张牌，共有多少种方式？一副牌中有13张黑桃，从中选取5个有 方式。所以，同花的种类有

这样抓到同花的机会是5148/2,598,960，接近1/500。在部分扑克玩家看来，5148手同花中，有4 × 10 = 40手大小连续，是同花顺。

扑克中的顺子指面值连续的5张牌，比如A2345、23456  . . . 10JQKA，如下图

顺子共有10种（由最小的牌决定），一旦我们选择了它的类型（比如34567），则每一张牌可能是4种花色中的一种。这样，顺子的种类就有

10 × 45 = 10,240。

接近同花的两倍。所以抓到顺子的几率大概是1/250。这就是为何扑克中同花大于顺子的原因：同花更难抓到。

更大的一手牌是满堂红（full house），三张大小相同及另外两张大小相同。典型的一手满堂红如下

为构建一个满堂红，我们需先为选择两个大小（则分别有13和12种选择，假设我们最终选择了如上图中的Q和7）。接着我们需要选择花色，我们有4种方式来决定三张Q的花色，有6种方式来决定7的花色。最终，我们构建满堂红的方法有13 × 12 × 4 × 6 = 3744种。所以抓到满堂红的可能性是3744/2,598,960，大约1/700。

让我们来构建另外一手牌。这手牌有两个大小不同的对子，剩下的一张牌具有第三个大小。

很多人错误的计算对子的数量为13 × 12，但是这样算有重复的，因为先选Q后选7和先选7后选Q是一样的。正确的方法是（将Q和7一起抓），接着选另一张不同大小的牌（比如5），接着安排花色。我们新的这手牌的种类有：

这种牌，我们大概5%的可能会抓到。

我们不会详细讨论所有可能的手牌，但是看看你是否能够验证下面的内容。一手四张同号譬如A♠A ♡A♢A♣8♢

的数量有

类似的手牌是三张同号，A♠A ♡A♢9♣8♢可能的数量有

只有一个对子的手牌有

大约手牌总数的42%。

<table>
  <thead>
    <tr>
      <th style="text-align:left">
        <p><b>&#x65C1;&#x767D;</b>
        </p>
        <p>&#x591A;&#x5C11;&#x624B;&#x724C;&#x6CA1;&#x6709;&#x5BF9;&#x5B50;&#x3001;&#x6CA1;&#x6709;&#x987A;&#x5B50;&#x6216;&#x540C;&#x82B1;&#xFF0C;&#x88AB;&#x89C6;&#x4E3A;&#x5E9F;&#x724C;&#x5462;&#xFF1F;&#x4F60;&#x53EF;&#x4EE5;&#x4ED4;&#x7EC6;&#x5730;&#x5C06;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x91CF;&#x52A0;&#x8D77;&#x6765;&#xFF0C;&#x5E76;&#x5C06;&#x5B83;&#x4EEC;&#x7684;&#x548C;&#x4ECE;&#x603B;&#x7684;&#x7EC4;&#x5408;&#x6570;&#x4E2D;&#x51CF;&#x53BB;&#x3002;&#x4F46;&#x662F;&#x8FD9;&#x91CC;&#x6709;&#x4E00;&#x4E2A;&#x76F4;&#x63A5;&#x7684;&#x7B54;&#x6848;</p>
        <p>&#x7B2C;&#x4E00;&#x9879;&#x8BA1;&#x7B97;&#x4E94;&#x5F20;&#x4E0D;&#x540C;&#x5927;&#x5C0F;&#x7684;&#x724C;&#x9762;&#x7EC4;&#x5408;&#x6570;&#x91CF;&#xFF08;&#x9632;&#x6B62;&#x6709;&#x4E24;&#x5F20;&#x6216;&#x8005;&#x66F4;&#x591A;&#x7684;&#x724C;&#x5177;&#x6709;&#x76F8;&#x540C;&#x7684;&#x724C;&#x9762;&#x5927;&#x5C0F;&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x6392;&#x9664;&#x4E86;&#x50CF;34567&#x8FD9;&#x79CD;&#x724C;&#x9762;&#x8FDE;&#x7EED;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x4E00;&#x9879;&#x4E3A;&#x6BCF;&#x4E00;&#x7EC4;&#x4E0D;&#x540C;&#x7684;5&#x4E2A;&#x503C;&#x5206;&#x914D;&#x82B1;&#x8272;&#x3002;&#x6BCF;&#x4E2A;&#x503C;&#x90FD;&#x6709;4&#x79CD;&#x9009;&#x62E9;&#xFF0C;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x5C06;4&#x79CD;&#x540C;&#x82B1;&#x7684;&#x60C5;&#x51B5;&#x6392;&#x9664;&#x3002;&#x7ED3;&#x679C;&#x662F;50.1%&#x7684;&#x624B;&#x724C;&#x5C06;&#x6BD4;&#x5BF9;&#x5B50;&#x5C0F;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E5F;&#x610F;&#x5473;&#x7740;49.9%&#x5C06;&#x4F1A;&#x662F;&#x5BF9;&#x5B50;&#x6216;&#x8005;&#x66F4;&#x597D;&#x3002;</p>
      </th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

有个问题有三个有趣的答案，其中两个是正确的！多少手牌中将包含至少一个A？一个诱人的错误答案是 。错误的原因是你用4种方法选A，然后在剩余的51张牌中选择其余4张牌（包括其他的A）。这样计算的错误是有些手牌被重复计数了。比如A♠A ♡J♢9♣8♢会分别被计数两次，一次是我们先选黑桃时，另一次是我们先选红桃时。正确处理该问题的方法是：根据手牌中A的数量将该问题分成4种情况。比如，手牌只有一张A的数量为（取一张A其余四张都不是A）。如果我们以这种方式继续，分别计算手牌有两张A、3张A和4张A的数量。最后将它们加起来。

通过计算相反的情况，我们可以更快得解决问题。手牌中没有A的情况有，这样至少有一张A的手牌有

我们之前提到扑克手牌的大小是按照你罕见程度评定的。例如，一个对子比两个对子出现得多，所以一个对子就小于两个对子。扑克手牌从大到小依次排列如下

一对

两对

三张同号

顺子

同花

满堂红

四张同号

同花顺

一种简单的记住这张表的方法是“一、二、三、顺、同、二三、四、同花顺”（二三是满堂红）。

假如你所玩的扑克带有大小王。这样我们将有54张牌，其中两张可以替换成任意你想要的一张牌从而使得你的手牌变成最好。例如，你现在手上的牌是A♡、A♢、K♠、8♢和一张王，此时你将选择把王变成一张A这样你会有三张A。如果你将王变成K，则你将会有两个对子，此时的手牌将便差一档。

但是有趣的是：在传统的手牌大小秩序下，如果你抓到上面那样的一手牌，你可以把它看成两对或三张同号，此时你会把它看作三张同号而不是两对。 但是这样做的结果是，将会有更多的牌被看作三张同号而不是两对，所以两对子将变得更罕见。 但是，如果我们试图通过让两对子更有价值来解决这个问题，那么同样的问题就会出现，并且我们会得到更多的对子，这使得类似的手牌跟多地被算作两对而不是三张同号。1996年，数学家Steve Gadbois发现了一个令人惊讶的结论：当你玩带有大小王的扑克时，没有一种一致的方法可以为手牌排大小。  


帕斯卡三角（译注：杨辉三角）中的数型

注：行号从0开始

第一章中，当我们用数组成一个三角形时，我们看过一个有趣的数型。我们刚刚研究过的数 被排成三角形时，同样有着一个美丽的数型。这个数型如上图所示，被称为帕斯卡三角。使用我们的公式，让我们将这些符号转化为数并寻找其中的数型。我们将在本节详细解释这些数型，不过在第一次阅读时，你可以随意跳过相关的解释，尽情欣赏这些数型吧。

最上面一行只有一项，1（记住0！=1）。每一行都以1开始并1以1结束。

让我们看看第5行（行号从0开始）。

**Row 5:** 1 5 10 10 5 1

注意：第二项是5，总之，第n行的第二项是n。因为，从n个对象中选取1个的方式有n种，所以这很好理解。每一行也可写成

对称： 每一行无论往哪个方向看，数的排列都是一样的。例如，在第5行，我们有

总之，这个数型说明的是

<table>
  <thead>
    <tr>
      <th style="text-align:left">
        <p><b>&#x65C1;&#x767D;</b>
        </p>
        <p>&#x5BF9;&#x79F0;&#x5173;&#x7CFB;&#x53EF;&#x4EE5;&#x7531;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x9A8C;&#x8BC1;&#x3002;&#x6839;&#x636E;&#x516C;&#x5F0F;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7528;&#x4EE3;&#x6570;&#x65B9;&#x5F0F;&#x8BC1;&#x660E;</p>
        <p>&#x4F46;&#x662F;&#x4F60;&#x4E0D;&#x9700;&#x8981;&#x516C;&#x5F0F;&#x6765;&#x7406;&#x89E3;&#x4E3A;&#x4EC0;&#x4E48;&#x5B83;&#x662F;&#x6B63;&#x786E;&#x7684;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#xFF1F;&#x6570;&#x4EE3;&#x8868;&#x4ECE;10&#x79CD;&#x53E3;&#x5473;&#x51B0;&#x6FC0;&#x51CC;&#x4E2D;&#x9009;3&#x79CD;&#x4E0D;&#x540C;&#x53E3;&#x5473;&#x7684;&#x53EF;&#x80FD;&#x51FA;&#x73B0;&#x7684;&#x7EC4;&#x5408;&#x6570;&#x3002;&#x5B83;&#x7B49;&#x540C;&#x4E8E;&#x672A;&#x88AB;&#x9009;&#x4E2D;&#x7684;7&#x79CD;&#x53E3;&#x5473;&#x7684;&#x7EC4;&#x5408;&#x6570;&#x3002;</p>
      </th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

接下来的一个数型你可能注意到了。除去每行头尾的1，每个数都是它上面一行紧邻的两个数之和。这种关系如此惊人，被称为帕斯卡等式。例如，情况帕斯卡三角中的第9和第10行。

为什么会是这样？当我们看到120 = 36 + 84时，这是它的一个表达式

为了弄清楚为何它是正确的，让我先问一个问题：如果从冰激凌店销售的10种不同口味的冰激凌中选择三种不同的口味，我们可以有多少种组合？第一个答案我们已经知道了，是。但是还有一种方法可以解答本问题。假设一种可能的口味是香草，多少组合不包含香草呢？应该是 ，因为我们可以从剩余的9种口味中任选3种。多少种组合包含香草口味呢？如果香草口味是必须的，则我们有 种方式从剩余的9种口味种选出两种。这样总的组合数是 。哪个答案是正确的呢？我们的两种逻辑都是正确的，所以它们都对。这样两个表达式相等。根据同样的逻辑（或者说代数），对于0和n之间的任意一个数k。

现在让我们看看如果我们将一行所有的数加起来会发生什么。

模型表明每一行的总和总是2的幂。具体点第n行之和是2n。为什么呢？一种解释是，起始行是1，接下来的每一行都是前一行的两倍。根据我们刚刚正面的帕斯卡等式，我们不难理解这一解释。例如，当我们将第5行各个数加起来时，我们可以将每一项替换成第4行的项。

   1 + 5 + 10 + 10 + 5 + 1

= 1 + \(1 + 4\) + \(4 + 6\) + \(6 + 4\) + \(4 + 1\) + 1

= \(1 + 1\) + \(4 + 4\) + \(6 + 6\) + \(4 + 4\) + \(1 + 1\)

我们可以看到第4行每一项都重复出现一次。根据同样的原因，和加倍的模式将继续下去。

将以上恒等式中的项替换成二项式系数，我们将得到，

看起来有些令人吃惊，每一个加数都是用阶乘来表示的，并且经常可以被不同的数整除。但是总和只有2这么一个质因子。

另一种解释这个数型的方法是计数。我们称之为组合证明。为了解释第5行之和，让我们来到一个提供5种口味的冰激凌店（第n行可以使用类似方式证明）。如果我们想选择不同口味的冰激凌，我们能有多少种选择？我们一次可以选0、1、2、3、4、5种不同的口味，不同口味间的顺序不重要。只有两种口味的组合有几种？如之前所见，总共有种组合。加法原理告诉我们，根据所选口味的多少，我们有

种组合。这个表达式可以简化为1 + 5 + 10 + 10 + 5 + 1。另一方面，我们也可以使用乘法原理解答本问题。我们不先决定选几种口味，我们依次看每一种口味并决定是否选它。例如，对巧克力味我们有两种选择（选、不选），对香草口味我们也有两种选择，对其它三种也分别有两种选择（注意，如果每种口味都是不选，则我们得到的结果是什么也没有，我们的规则允许这种情况）。这样我们的选择将有2 × 2 × 2 × 2 × 2 = 25。

既然我们两次推理都是正确的，所以可以得出

<table>
  <thead>
    <tr>
      <th style="text-align:left">
        <p><b>&#x65C1;&#x767D;</b>
        </p>
        <p>&#x7C7B;&#x4F3C;&#x7684;&#x7EC4;&#x5408;&#x8BBA;&#x8BC1;&#x8868;&#x660E;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x5C06;&#x9664;&#x7B2C;n&#x884C;&#x95F4;&#x9694;&#x76F8;&#x52A0;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x5F97;&#x5230;2n
          - 1&#x3002;&#x5BF9;&#x4E8E;&#x50CF;&#x7B2C;5&#x884C;&#x8FD9;&#x6837;&#x7684;&#x5947;&#x6570;&#x884C;&#xFF0C;&#x8FD9;&#x5E76;&#x4E0D;&#x5947;&#x602A;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x8981;&#x52A0;&#x7684;&#x6570;&#x662F;1
          + 10 + 5&#xFF0C;&#x6211;&#x4EEC;&#x6392;&#x9664;&#x7684;&#x6570;&#x4E4B;&#x548C;&#x662F;5
          + 10 + 1&#xFF0C;&#x5F88;&#x663E;&#x7136;&#x5B83;&#x4EEC;&#x76F8;&#x7B49;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x5F97;&#x5230;2n&#x7684;&#x4E00;&#x534A;&#x3002;&#x5BF9;&#x4E8E;&#x5076;&#x6570;&#x884C;&#x7ED3;&#x8BBA;&#x540C;&#x6837;&#x6210;&#x7ACB;&#x3002;&#x8BA9;&#x6211;&#x4EEC;&#x770B;&#x7B2C;4&#x884C;&#xFF0C;1
          + 6 + 1 = 4 + 4 = 23&#x3002;&#x603B;&#x4E4B;&#xFF0C;&#x9664;&#x7B2C;&#x4E00;&#x884C;&#x5916;&#xFF0C;&#x6211;&#x4EEC;&#x80FD;&#x591F;&#x5F97;&#x5230;</p>
        <p>&#x4E3A;&#x4EC0;&#x4E48;&#xFF1F;&#x7B49;&#x5F0F;&#x5DE6;&#x8FB9;&#x8868;&#x793A;&#x5076;&#x6570;&#x53E3;&#x5473;&#x51B0;&#x6FC0;&#x51CC;&#x7684;&#x7EC4;&#x5408;&#xFF08;&#x5047;&#x8BBE;&#x6709;n&#x79CD;&#x4E0D;&#x540C;&#x53E3;&#x5473;&#xFF09;&#x3002;&#x4F46;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x6362;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x4ECE;&#x7B2C;1&#x5230;&#x7B2C;n
          - 1&#x79CD;&#x53E3;&#x5473;&#x4F9D;&#x6B21;&#x505A;&#x51FA;&#x9009;&#x62E9;&#xFF08;&#x9009;&#x6216;&#x4E0D;&#x9009;&#xFF09;&#xFF0C;&#x8FD9;&#x6837;&#x6700;&#x540E;&#x4E00;&#x79CD;&#x53E3;&#x5473;&#x53EA;&#x6709;&#x4E00;&#x79CD;&#x9009;&#x62E9;&#xFF08;&#x5982;&#x679C;&#x524D;&#x9762;&#x6709;&#x5947;&#x6570;&#x53E3;&#x5473;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x9009;&#xFF1B;&#x5982;&#x679C;&#x524D;&#x9762;&#x6709;&#x5076;&#x6570;&#x9009;&#x62E9;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x4E0D;&#x9009;&#xFF09;&#x3002;&#x8FD9;&#x6837;&#x5076;&#x6570;&#x53E3;&#x5473;&#x7684;&#x7EC4;&#x5408;&#x6709;2n&#x2212;1&#x79CD;&#x3002;</p>
      </th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

当我们把帕斯卡三角写成直角三角形时，更多的数型会出现。第一列全是1，第二列是正整数1、2、3、4、5。第三列由1、3、6、10、15开始，看起来很熟悉。它们是第一章介绍过的三角形数。总之第三列的数可以写成

即第k+1列包含的数有

现在看一下当我们将某一列前几个数加起来会得到什么。假如我们将第三列前5个数加起来，我们得到1 + 3 + 6 + 10 + 15 = 35，和恰巧是右下角的那个数。换句话

这是曲棍球棒等式的一个例子，因为这个数型在帕斯卡三角中组成了一个曲棍球棒。我们看到一长列数，旁边还有一个凸起。为了理解这个数型是怎么工作的，让我们想象有一个拥有7名队员的曲棍球队，每名队员的运动衫上有着不同的编号：1、2、3、4、5、6、7。

如果要选三名队员来做练习，可以有几种组合？因为队员的顺序不重要，组合的种类有种。现在让我们换种方式解答该问题。我们将这个问题分解成不同的情况。包含7号队员的组合有几种？因为7号已经被包括了，所以挑选其余两名队员的方法有种。下一步，如果6号是最大的号码，则有多少种组合？这里6号必须选，而7号不能选，因此我们有种组合。类似，当5是最大号码是有种组合；当4是最大号码时有种组合；当3是最大号码时有= 1种组合。因为最大的号码只可能是3、4、5、6或7，我们已经计算出所有的组合，组合种类有 + + ...+ 。正是前面等式中左侧的表达式。更一般的是，我们可以将论证写成

 + + ...+  = 

让我们运用这个公式来解决你在每年的圣诞节期间可能想到的一个重要问题。 根据流行歌曲“圣诞节十二天”，在第一天，你的真爱给你一份礼物（一个鹧鸪）。 第二天，你会得到3件礼物（1只鹧鸪和2只斑鸠）。 第三天，你会得到6份礼物（1只鹧鸪，2只斑鸠，3只法国母鸡），等等。 问题是：第12天之后，你总共收到多少礼物？

在圣诞假期的第n天，你总共收到礼物的数量是

（这个结果来自三角形数的简便公式或者曲棍球棒公式）。所以，第一天你得到= 1件礼物，第二天你得到= 3件礼物，依此到第12天，你将得到78件礼物。应用曲棍球棒公式，总的礼物数量将会是

因此，如果你在接下来的一年里把这些礼物拆开，你几乎每天都能够享受到新礼物（也许生日那天要休息一次）！

让我们用一首欢乐的歌（我称之为《圣诞节的第n天》）来庆祝我们对最后一个问题的解答。

在圣诞节的第n天，我的真爱赐予了我

n个新颖的小摆设

n - 1事物或其他

n - 2等等

5（加10）其他东西！

数着所有的礼物

到第n天，

总数是多少？

它将正好是n+2选3

这是帕斯卡三角中最奇怪的图形之一。如果你看这个三角形，每一个奇数都被圈了起来，你将看到三角形中嵌着三角形。

现在我们来看一下更长视图，这是一个16行的三角形，其中我们用1代替每个奇数，用0代替每个偶数。请注意，在每对0和每对1之下，你得到0。 这反映了一个事实：当你将两个偶数相加或两个奇数相加时，你会得到一个总数。

我们还可以看一个更长的三角，这里有256行，我们将每一奇数用一个黑色的正方形替换，每一个偶数用白色的正方形替换。

这个图形是一个近似的被称为谢尔宾斯基三角形的分型图形。这只是帕斯卡三角形内隐藏的众多宝藏中的一个。这里有另一个惊喜。帕斯卡三角形的每行中有多少个奇数？从第1行开始（除去第0行），我们得到 2、2、4、2、4、4、8、2等。尽管都是2的幂，但是看不出很明显的模型。事实上，2的幂起了一个很重要的作用。例如，注意，恰好2个奇数的行是第1、2、4、8行。为了得到一个更一般的模型，我们要利用这样一个事实：每一个不小于0的整数都可以表述为2的两个幂之和。

1  =  1

2  =  2

3  =  2 + 1

4  =  4

5  =  4 + 1

6  =  4 + 2

7  =  4 + 2 + 1

8  =  8

我们有2个奇数的行是第1、2、4、8行，第3、5、6有4个奇数，第7行有8个奇数。惊奇和美丽的规律出现了。如果n是p个2的幂之和，则第n 行将有2p个奇数。所以，第83行有多少个奇数呢？因为83 = 64 + 16 + 2 + 1，是4个2的幂之和，所以第83行有24 = 16个奇数。

<table>
  <thead>
    <tr>
      <th style="text-align:left">
        <p><b>&#x65C1;&#x767D;</b>
        </p>
        <p>&#x6211;&#x4EEC;&#x5C06;&#x4E0D;&#x5BF9;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x8BC1;&#x660E;&#xFF0C;&#x4F46;&#x662F;&#x4F60;&#x4F1A;&#x597D;&#x5947;&#x662F;&#x5947;&#x6570;&#x53EA;&#x8981;k
          = 64a + 16b + 2c + d&#xFF0C;&#x5176;&#x4E2D;a, b, c, d&#x53EF;&#x4EE5;&#x4E3A;0&#x6216;1&#x3002;&#x786E;&#x5207;&#x70B9;&#xFF0C;k&#x5FC5;&#x987B;&#x662F;&#x4E0B;&#x5217;&#x6570;&#x4E4B;&#x4E00;&#xFF1A;</p>
        <p>0&#x3001;1&#x3001;2&#x3001;3&#x3001;16&#x3001;17&#x3001;18&#x3001;19&#x3001;64&#x3001;65&#x3001;66&#x3001;69&#x3001;80&#x3001;81&#x3001;82&#x3001;83</p>
      </th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

我们以最后一个模型结束本章。我们看过了将帕斯卡三角中的一行相加后以及一列相加后的结果。但是如果我们斜着加会得到什么呢？

当我们斜着相加，如图所示，我们得到下面的数列

1、1、2、3、5、8、13、21、34

这是著名 的斐波那契数列，我们将在下一章讨论它。

