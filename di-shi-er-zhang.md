# 第十二章 无限的魔力

## 无限有趣

最后，但肯定不是最不重要的，我们来讨论一下无限穷。我们的旅程从第一章的求1到100的和开始：

1 + 2 + 3 + 4 + · · · + 100 = 5050

我们最终发现了求1到n的和的公式

$$
1+2+3+\dots+n=\frac{n(n+1)}{2}
$$

我们发现了其它求有限项之和的公式。在这一章中，我们将探讨如何求无穷多项的和，譬如

$$
1+\frac{1}{2}+\frac{1}{4}+\frac{1}{8}+\frac{1}{16}+\dots
$$

我希望你能相信它的和是2。不是近似2，而是精确的等于2。一些和有有趣的答案，比如

$$
1-\frac{1}{3}+\frac{1}{5}-\frac{1}{7}+\frac{1}{9}-\frac{1}{11}+\dots=\frac{\pi}{4}
$$

不要随便将任何数加起来。所有正数的和是无穷大，表示为 $$1 + 2 + 3 + 4 + 5 + · · · = ∞$$ 。

这意味着这个和将无限增大。换句话，和将超过任何你想到的数：它将超过一百、一百万、一万亿甚至更大。但是在本章结束时，我们将会看到在某种情况下

$$
1+2+3+4+5+\dots=\frac{-1}{12}
$$

你会感兴趣吗？我希望如此！正如我们将看到的，当你进入无限的魔域时，会发生非常奇怪的事情，这也是数学如此吸引人和有趣的部分原因。

无穷是一个数吗?不是一个真实的数，尽管有时会被这样对待。简单地说，数学家可能会说：

$$
\infty+1=\infty\qquad \infty+\infty=\infty\qquad5\times \infty= \infty\qquad \frac{1}{\infty}=0
$$

技术上讲，不存在最大的数，因为我们可以通过不断加1来使数变大。符号∞本质上是“任意大”或大于任何正数。同样，-∞代表小于任何负数。顺便说一句，∞-∞和1/0都是未定义的。我们很容易定义1/0=∞，因为当我们把1除以越来越小的正数时，商就会变得越来越大。但问题是，当我们用很小的负数除以1时，商就会变得越来越负。

## 一个重要的无限和：几何级数

让我们从一个被所有数学家所接受的声明开始，但在大多数人第一次看到它的时候，似乎是错误的：

0.99999 . . . = 1

每个人都同意这两个数是相近的，确实非常接近，但是很多人仍然认为他们不应该被认为是相同的数。让我试着通过提供各种不同的证明，让你们相信这些数实际上是相等的。我希望至少有一种解释能让你满意。

也许最快的证明是如果你接受了 $$\frac{1}{3}=0.33333\dots$$ 。

然后两边同时乘以3就得到了 $$1=\frac{3}{3}=0.99999\dots$$ 。

另一个证明是使用我们在第6章中使用的技术来计算循环小数。让我们用变量w来表示无穷小数的十进制展开如下：

$$w = 0.99999 . . .$$ 

现在如果我们将两边同时乘以10

$$10w = 9.99999 . . .$$ 

从第二个方程减去第一个方程就得到了

$$9w = 9.00000 . . .$$ 

这意味着w = 1。

这是一个根本不使用代数的论证。你是否同意，如果两个数不同，那么它们之间一定有一个不同的数（例如，它们的平均值）？然后假设，正好相反，0.99999……和1是不同的数。如果是这样的话，它们之间的数是多少？如果你在它们之间找不到另一个数，那么它们就不可能是不同的数。

我们说，如果两个数或无穷个数是任意接近，则它们相等。换句话说，两个量之间的差值小于任何正数，不管它是0.01还是0.0000001或者1除以1万亿。因为1和0.99999……的差值比任何正数都小，然后数学家同意把它们称为相等的。

我们可以用同样的逻辑来计算下面的无穷求和：

$$
1+\frac{1}{2}+\frac{1}{4}+\frac{1}{6}+\frac{1}{16}+\dots=2
$$

我们可以给这个和一个物理解释。想象一下，你站在离墙两米远的地方，你走了一大步，朝着墙的方向走了一米，然后又向墙走了半米，然后是四分之一米，然后是八分之一米，以此类推。每走一步，你和墙之间的距离就会被切成两半。如果忽略了采取更小的步骤的实际限制，你最终会得到尽可能靠近墙壁的地方。因此，你总的步长正好是2米。

我们可以用几何方法来解释这个和，如下图所示。我们从一个1乘2的矩形开始，然后把它切成两半，然后再把它切成两半，然后再把它切成两半，以此类推。第一个区域的面积是1。下一个区域的面积是1/2，然后下一个区域的面积是1/4，以此类推。当n趋于无穷时，区域填满整个矩形，所以它们的总面积是2。

![1 + 1/2 + 1/4 + 1/8 + 1/16 + &#xB7; &#xB7; &#xB7; = 2&#x7684;&#x51E0;&#x4F55;&#x8BC1;&#x660E;](.gitbook/assets/image%20%28201%29.png)

对于一个更代数的解释，我们看一下部分和，如下表所示

| 1 | =1 | =2-1 |
| :--- | :--- | :--- |
| $$1+\frac{1}{2}$$  | $$=1\frac{1}{2}$$  | $$=2-\frac{1}{2}$$  |
| $$1+\frac{1}{2}+\frac{1}{4}$$  | $$=1\frac{3}{4}$$  | $$=2-\frac{1}{4}$$  |
| $$1+\frac{1}{2}+\frac{1}{4}+\frac{1}{8}$$  | $$=1\frac{7}{8}$$  | $$=2-\frac{1}{8}$$  |
| $$1+\frac{1}{2}+\frac{1}{4}+\frac{1}{8}+\frac{1}{16}$$  | $$=1\frac{15}{16}$$  | $$=2-\frac{1}{16}$$  |
| $$1+\frac{1}{2}+\frac{1}{4}+\frac{1}{8}+\frac{1}{16}+\frac{1}{32}$$  | $$=1\frac{31}{32}$$  | $$=2-\frac{1}{32}$$  |
| $$\vdots$$  | $$\vdots$$  | $$\vdots$$  |

这个模式似乎表明，对于n为0，

$$
1+\frac{1}{2}+\frac{1}{4}+\frac{1}{8}+\dots++\frac{1}{2^n}=2-\frac{1}{2^n}
$$

我们可以通过归纳法（如我们在第6章学到的）来证明这一点，或者作为一个有限的几何级数公式的特例。

**定理（无限几何级数）：对** $$x ≠ 1 、 n ≥ 0$$ 

$$
1+x+x^2+x^3+\dots++x^n=\frac{1-x^{n+1}}{1-x}
$$

**证明：**这可以用归纳来证明。当n = 0，公式说明，很明显这是对的。现在假定公式在也n = k成立

$$
1+x+x^2+x^3+\dots|x^k=\frac{1-x^{k+1}}{1-x}
$$

这公式应该在 n = k + 1时也成立，我们将xk+1加到等式两侧

$$
\begin{aligned}
1+x+x^2+x^3+\dots+x^k+x^{k+1}&=\frac{1-x^{k+1}}{1-x}+x^{k+1} \\
&= \frac{1-x^{k+1}}{1-x}+\frac{x^{k+1}(1-x)}{1-x} \\
&=\frac{1-x^{k+1}+x^{k+1}-x^{k+2}}{1-x}\\
&=\frac{1-x^{k+2}}{1-x}

\end{aligned}
$$

□

**证明2：**令 $$S = 1 + x + x^2 + x^3 + · · · + x^n$$ 

将等式两边各乘以x

$$xS =x + x^2 + x^3 + · · · +x^n + x^{n+1}$$ 

用 $$x$$ 减 $$xS $$ ，等式中大量的加项被抵消了。

$$S − xS = 1 − x^{n+1}$$ 

换句话 $$S(1 − x) = 1 − x^{n+1}$$ ，所以

$$
S=\frac{1-x^{n+1}}{1-x}
$$

□

注意当x = 1/2时，无穷几何级数和我们就是我们最初的模型

$$
1+\frac{1}{2}+\frac{1}{4}+\frac{1}{8}+\frac{1}{16}+\dots+\frac{1}{2^n}=\frac{1-(1/2)^{n+1}}{1-1/2}=2-\frac{1}{2^2}
$$

随着 $$n$$ 的增大， $$(\frac{1}{2})^n$$ 趋近于0。这样，当 $$n→ ∞$$ 

$$
\begin{aligned}
1+\frac{1}{2}+\frac{1}{4}+\frac{1}{8}+\frac{1}{16}+\dots&=\lim_{n \to \infty}\left(1+\frac{1}{2}+\frac{1}{4}+\frac{1}{8}+\frac{1}{16}+\dots+\frac{1}{2^n}\right) \\
&=\lim_{n \to \infty}\left(2-\frac{1}{2^n}\right) \\
&=2
\end{aligned}
$$

{% hint style="info" %}
这里有一个只有数学家才觉得好笑的笑话。无数的数学家走进酒吧。第一个数学家说，我想要一杯啤酒。第二个数学家说，我想要半杯啤酒。第三位数学家说，我想要四分之一杯啤酒。第四个数学家说，我想要八分之一的杯子……酒保喊道：“知道你们的极限!”给他们两杯啤酒。
{% endhint %}

更一般地说，-1和1之间的任何数，如果上升到越来越高的幂次，就会越来越接近0。这样我们就有了最重要的\(无穷\)几何级数。

**定理（几何级数）：**对 $$ −1 < x < 1$$ ，

$$
1+x+x^2+x^3+x^4+\dots=\frac{1}{1-x}
$$

几何级数通过让x = 1/2来解决最后一个问题

$$
1+\frac{1}{2}+\frac{1}{4}+\frac{1}{8}+\frac{1}{16}+\dots=\frac{1}{1-1/2}=2
$$

如果几何级数看起来很熟悉，那是因为我们曾在上一章的最后遇到它。当时我们用微分证明函数 $$y = 1/(1 − x)$$ 有泰勒级数 $$1 + x + x^2 + x^3 + x^4 + · · ·$$ 。

我们看看几何级数还告诉我们什么。我们能对下面的级数说些什么呢？

$$
\frac{1}{4}+\frac{1}{16}+\frac{1}{64}+\frac{1}{256}+\dots
$$

当我们把每一项的1/4提出来时，这个和就变成了

$$
\frac{1}{4}\left(1+\frac{1}{4}+\frac{1}{16}+\frac{1}{64}+\dots\right)
$$

几何级数\(x = 1/4\)表示这个化简为

$$
\frac{1}{4}\left(\frac{1}{1-1/4}\right)=\frac{1}{4}\times\frac{4}{3}=\frac{1}{3}
$$

如下图所示，这个级数有一个特别漂亮的没有文字的证明。注意，黑色方块正好占了大方块面积的三分之一。

![](.gitbook/assets/image%20%28203%29.png)

我们甚至可以用几何级数来确定0.99999……因为无限小数展开式其实就是一个无穷级数。具体地说，我们可以用x = 1/10的几何级数来得到

$$
\begin{aligned}
0.99999...&=\frac{9}{10}+\frac{9}{100}+\frac{9}{1000}+\frac{9}{10000}+\dots \\
&=\frac{9}{10}\left(1+\frac{1}{10}+\frac{1}{100}+\frac{1}{1000}+\dots\right) \\
&=\frac{9}{10}\left(\frac{1}{1-1/10}\right)  \\
&=\frac{9}{10-1} \\
&=1
\end{aligned}
$$

当x是复数时，几何级数公式依然成立。只要x的长度小于1。例如，虚数i/2的长度是1/2，几何级数告诉我们

$$
1+(i/2)+(i/2)^2+(i/2)^3+(i/2)^4+\dots=\frac{1}{1-i/2}\\
=\frac{2}{2-i}=\frac{2}{2-i}\times\frac{2+i}{2+i}=\frac{4+2i}{4-i^2}=\frac{4+2i}{5}=\frac{4}{5}+\frac{2}{5}i
$$

我们在下面的复平面上做出说明

![](.gitbook/assets/image%20%28207%29.png)

虽然有限几何级数公式适用于x ≠ 1的所有值，\(无限\)几何级数公式要求\|x\| &lt; 1。例如，当x = 2时，有限几何级数正确地告诉我们\(正如我们在第六章中推导出来的那样\)

$$
1+2+4+8+16+\dots+2^n=\frac{1-2^{n+1}}{1-2}=2^{n+1}-1
$$

在几何级数公式中代入x = 2，将得到一个荒唐的结果（虽然外表很具有欺骗性）。我们将在最后一节中看到对这个结果的合理解释。

$$
1+2+4+8+16+\dots=\frac{1}{1-2}=-1
$$

{% hint style="info" %}
有无限多的正整数

1, 2, 3, 4, 5 . . .

有无限多的正偶数

2, 4, 6, 8, 10 . . .

数学家说，正整数和正偶数的集合具有相同的大小，因为它们可以相互配对

$$\begin{aligned} &\ 1\quad2\quad3\quad4\quad5\quad\ \dots\\   &\updownarrow \quad\updownarrow\quad\updownarrow\quad\updownarrow\quad\updownarrow\quad\ \dots\\   &\ 2\quad4\quad6\quad8\quad10\quad\dots \end{aligned}$$ 

可以与正整数配对的集合称为可数集。可数集的最小级别是无穷大。任何可以列出的集合都是可数的，因为列表中的第一个元素与1配对，第二个元素与2配对，以此类推。所有整数的集合 

. . . − 3, −2, −1, 0, 1, 2, 3 . . .

不能够从最小列到最大（队列中第一个数是什么？），但是它们可以这样排列

0, 1, −1, 2, −2, 3, −3 . . .

所以所有整数的集合同样是可数的，该集合的大小和正整数集相同。

有理数的集合呢?它们都是形如m/n的数，其中m和n是正整数。信不信由你，这一集合也是可数的。它们可以列示如下

$$\frac{1}{1},\ \frac{1}{2},\ \frac{2}{1},\ \frac{1}{3},\ \frac{2}{2},\ \frac{3}{1},\ \frac{1}{4},\ \frac{2}{3},\ \frac{3}{2},\ \frac{4}{1},\  \dots$$ 

我们第一次根据分子和分母的和排列分数。由于每个有理数都出现在列表中，所以正有理数也是可数的。
{% endhint %}

{% hint style="info" %}
是否有无限的集合是不可数的？德国数学家康托尔\(georg cantor, 1845-1918\)证明，实数集，即使仅限于0到1之间，也构成了不可数的集合。

$$0.1,\ 0.2,\ . . . ,\ 0.9,\ 0.01,\ 0.02,\ . . . ,\ 0.99,\ 0.001,\ 0.002,\ . . .,\ 0.999,\ . . .$$ 

但这只会生成位数有限的实数。例如1/3 = 0.333 将永远不会出现在这个列表中。有没有更有创意的方法列出所有的实数呢?康托尔通过以下推理证明,这是不可能的。相反，假设实数是可数的。 为了给出一个具体的例子,假设列表开头的数是

$$0.314159265...\\ 0.271828459...\\ 0.618033988...\\ 0.123581321...\\ \vdots$$ 

我们可以通过创建一个在列表中不会出现的实数来证明这样的列表是不完整的。具体地说，我们创建实数 $$0.r_1r_2r_3r_4$$ 。其中 $$r_1$$ 是0到9之间的整数，与第一个数中的第一位不同\(在我们的示例中是 $$r_1≠ 3$$ \)， $$ r_2$$ 与第二个数中的第二位\(这里是 $$r_2 ≠ 7$$ \)不同，依此类推。例如，我们可以创建 $$0.2674…$$ 这样一个数不可能出现在列表的任何地方。为什么它不是列表上的第100万个数呢?因为它在百万分之一位上的数上是不同的。因此，你创建的列表的任何示例都肯定会丢失一些数，因此实数是不可数的。这被称为康托尔的对角化证明，但我喜欢称它为通过例子证明。\(对不起\)。

本质上,我们已经证明,虽然有无穷多个有理数,但有无理数的数量更多。如果你从实线中随机选择一个实数,它几乎肯定是无理数。
{% endhint %}

无穷级数在概率问题中经常出现。假设你反复掷两个6面骰子，直到总共出现6或7个。如果6出现在7之前，那么你就赢了。否则,你输了。你获胜的机会是什么?掷骰子的可能结果有6 × 6= 36种。其中5种可能的结果是6\(即\(1、5\)、\(2、4\)、\(3、3\)、\(4、2\)、\(5、1\)，其中6种结果是7\(1、6\)、\(2、5\)、\(3、4\)、\(4、3\)、\(5、2\)、\(6、1\)。因此，看起来你获胜的机会应该少于50%。直觉上，当你掷骰子时，只有5 + 6 = 11种结果是有效的，其余的都需要我们再掷一次。在这11个数中，有5个令你赢，6个令你输。这样看来，你获胜的机会应该是5/11。

我们可以用几何级数来确定获胜的概率确实是5/11。第一局赢的概率是5/36。第二轮获胜的机会是多少?要做到这一点，你不能在第次掷得6或7，然后在第次得6。第一次掷出6或7的概率是5/36 + 6/36 = 11/36，所以不掷6或7的概率是25/36。为了求在第二轮获胜的概率，我们将这个数乘以在任意一个回合中掷出6的概率5/36，所以在第二轮中获胜的概率是 \(25/36\)\(5/36\)。要在第三轮获胜，前两轮不能是6或7，然后我们必须在第三轮得到6，其可能性是\(25/36\)\(25/36\)\(5/36\)。第四局获胜的概率是\(25/36\)3\(5/36\)，以此类推。把所有这些概率相加，赢的概率是

$$
\begin{aligned}
&\dots\dots\dots\dots\dots\dots\dots\dots\\
&=\frac{5}{36}\left[1+\frac{25}{36}+\left(\frac{25}{36}\right)^2+\left(\frac{25}{36}\right)^3+\dots\right]\\
&=\frac{5}{36}\left(\frac{1}{1-\frac{25}{36}}\right)=\frac{5}{36-25}=\frac{5}{11}
\end{aligned}
$$

![](file:///C:/Users/samuel/AppData/Local/Temp/msohtmlclip1/01/clip_image066.jpg)

## 调和级数和变奏曲

当无穷级数加起来是一个\(有限\)数时，我们说求和收敛于这个数。当无穷级数不收敛时，我们说级数发散。如果无穷级数收敛，那么被求和的数需要越来越接近0。例如，我们看到级数1/2 /4 / 1/8·····收敛到2，注意到1、1/2、1/4、1/8…越来越接近0。

但相反的说法是不正确的，因为即使相加的项趋向于0，级数也可能出现偏离。最重要的例子是调和级数。之所以被称为调和级数，是因为古希腊人发现长度与1、1/2、1/3、1/4、1/5……成正比的弦能产生和谐的声音。

**定理：**调和级数是不收敛的。

$$
1+\frac{1}{2}+\frac{1}{3}+\frac{1}{4}+\frac{1}{5}+\dots=\infty
$$

**证明:**为了证明这个和是无穷，我们需要证明这个和是任意大的。为了做到这一点，我们根据分母把和分成若干小块。注意，由于前9项都大于1/10，所以

$$
1+\frac{1}{2}+\frac{1}{3}+\frac{1}{4}+\frac{1}{5}+\frac{1}{6}+\frac{1}{7}+\frac{1}{8}+\frac{1}{9}>\frac{9}{10}
$$

剩下的90项都大于1/100，所以

$$
\frac{1}{10}+\frac{1}{11}+\frac{1}{12}+\dots+\frac{1}{99}>90\times\frac{1}{100}=\frac{9}{10}
$$

根据同样的方法，我们看到

$$
\frac{1}{1000}+\frac{1}{1001}+\frac{1}{1002}+\dots+\frac{1}{9999}>\frac{9000}{10,000}=\frac{9}{10}
$$

所以，所有的数之和不会小于

$$
\frac{9}{10}+\frac{9}{10}+\frac{9}{10}+\frac{9}{10}+\dots
$$

而这个数显然是没有上限的。

☺

{% hint style="info" %}
这是一个有趣的事实

$$1+\frac{1}{2}+\frac{1}{3}+\dots+\frac{1}{n}\approx\gamma+\ln n$$ 

其中γ是0.5772155649\(称为欧拉-马斯切拉尼常数\)。 $$\ln n$$ 是在第10章中描述的n的自然对数\(目前还不清楚如果γ是无理数还是有理数\)。这个近似会随着n变大而变得越来越精确。下表将所有近似和做了比较。

![](.gitbook/assets/image%20%28199%29.png) 

同样有趣的是，如果我们只看质数分母，那么对于一个大质数p

$$\frac{1}{2}+\frac{1}{3}+\frac{1}{5}+\frac{1}{7}+\frac{1}{11}+\frac{1}{13}\dots+\frac{1}{p}\approx M+\ln\ln n$$ 

其中M = 0.2614972。是Mertens常数，随着p变大，近似值变得更精确。

这一事实的一个后果是

$$\frac{1}{2}+\frac{1}{3}+\frac{1}{5}+\frac{1}{7}+\frac{1}{11}+\frac{1}{13}\dots=\infty$$ 

但是它增加到无穷大的速度非常的缓慢，因为即使P很大，它的对数的对数也非常小。例如，当我们把所有小于googol\(10100\)的质数的倒数相加，其和仍然小于6。
{% endhint %}

让我们看看当你修改调和级数时会发生什么。如果你抛弃其中有限的项，级数仍然发散。例如，如果你将前100万项 $$1+\frac{1}{2}+\dots+\frac{1}{10^6}$$ 舍弃。这一百万项的和略大于14，剩下项之和仍然是无穷。

如果你增大调和级数的每一项，级数之和仍然是发散的。例如，当n &gt; 1时， $$\frac{1}{\sqrt{n}}>\frac{1}{n}$$ ，我们得到

$$
1+\frac{1}{\sqrt{2}}+\frac{1}{\sqrt{3}}+\frac{1}{\sqrt{4}}+\dots=\infty
$$

但是使每一项变小并不一定意味着和会收敛。例如，如果我们把调和级数中的每一项除以100，它还是发散的，因为

$$
\frac{1}{100}+\frac{1}{200}+\frac{1}{300}+\dots=\frac{1}{100}\left(1+\frac{1}{2}+\frac{1}{3}+\frac{1}{4}+\dots\right)=\infty
$$

然而存在是级数收敛的变化。例如，欧拉证明：我们将每一项平方，则级数收敛。

$$
1+\frac{1}{2^2}+\frac{1}{3^2}+\frac{1}{4^2}+\dots=\frac{ \pi ^2}{6}
$$

![](file:///C:/Users/samuel/AppData/Local/Temp/msohtmlclip1/01/clip_image096.jpg)   
 事实上，它可以通过微积分证明，对于任何p &gt; 1，级数 

$$
1+\frac{1}{2^p}+\frac{1}{3^p}+\frac{1}{4^p}+\dots
$$

收敛到 $$\frac{p}{p-1}$$ 。

例如,当p = 1.01时，即使每一项仅略小于调和级数的每一项，我们仍得到一个收敛级数

$$
1+\frac{1}{2^{1.01}}+\frac{1}{3^{1.01}}+\frac{1}{4^{1.01}}+\dots<1.01
$$

假设我们从调谐级数中移除任何一个含有9的数。在这种情况下，我们可以证明该级数不等于无穷\(因此必须收敛于某项\)。我们通过将这些不含9的分母按位数分组计并求和来证明这一点。例如，我们从8个分母是一位数的分数开始，也就是从1/1到1/8。有8 × 9 = 72个没有9的两位数，因为第位有8个选项\(0或9以外的任何数字\)，第位有9个选项。同样，有8 × 9 × 9个没有9的3位数，更普遍的是对n位数则有 $$8 × 9^{n−1}$$ 种选择，注意，最大的一位数分数是1，最大的两位数分数是1/10，这样我们可以将无穷级数分解成

$$
1+\frac{1}{2}+\frac{1}{3}+\frac{1}{4}+\frac{1}{5}+\frac{1}{6}+\frac{1}{7}+\frac{1}{8}<8\\
\frac{1}{10}+\frac{1}{11}+\frac{1}{12}+\dots+\frac{1}{88}<(8\times9)\times\frac{1}{10}=8\left(\frac{9}{10}\right)\\
\frac{1}{100}+\frac{1}{101}+\frac{1}{102}+\dots+\frac{1}{888}<(8\times9^2)\times\frac{1}{100}=8\left(\frac{9}{10}\right)^2
$$

所有数之和最大是

$$
8\left(1+\frac{9}{10}+\left(\frac{9}{10}\right)^2+\left(\frac{9}{10}\right)^3+\dots\right)=\frac{8}{1-\frac{9}{20}}=80
$$

因此，不含9的级数收敛到一个小于80的数。

□

一种理解这个级数收敛性的方法是几乎所有的大数都有一个9。实际上，如果你随机生成一个从0到9的数字，数字9不在前n位中的概率是\(9/10\)n，当n越来越大时，它会趋于0。

{% hint style="info" %}
如果我们把π和e看做随机的数字字符串，那么你最喜欢的整数基本上一定会在字符串中出现。例如，我最喜欢的四位数2520，出现在π的第1845到1848位。前六个斐波那契数列1、1、2、3、5、8，从第820,390位开始出现。如果在前百万位中找到匹配的数，这一点也不奇怪。因为在随机生成的数中，特定六位数与你的数匹配的概率是百万分之一。所以如果有一百万个六位数的位置，你就有机会了。另一方面，令人惊讶的是999999出现在π的第763位。物理学家理查德·费曼曾说过,如果他只背到π小数点后767位,人们可能会认为π是一个有理数，因为自999999后他会背成“999999等等”。

有程序和网站能找到你最喜欢的数字字符串在π和e中出现的位置。我发现如果我记住了π小数点后3000位，它以31961结束。这对我来说是神奇的,因为3月19日,1961年,恰好是我的生日。
{% endhint %}

## 有趣且不可能的无穷和

让我们总结一下我们到目前为止看到过的一些和。

我们以研究下面的和开始本章

$$
1+\frac{1}{2}+\frac{1}{4}+\frac{1}{8}+\frac{1}{16}+\dots=2
$$

我们知道这是几何级数的一个特殊情况，它说对于x的任何值 $$1 < x < 1$$ 

$$
1+x+x^2+x^3+x^4+\dots=\frac{1}{1-x}
$$

注意，几何级数也适用于0到-1之间的负数。例如，当x = -1/2时，它说

$$
1-\frac{1}{2}+\frac{1}{4}-\frac{1}{8}+\frac{1}{16}-\dots=\frac{1}{1-(-1/2)}=\frac{2}{3}
$$

一个在正数和负数之间交替，且趋近接近于零的级数叫做交错级数。交错级数总是收敛于某个数。为了演示上面的交错级数，你可以画出实线，先把手指放在0上。然后向右移动1，然后向左移动1/2，然后向右移动1/4。此时，你的手指应该在3/4。然后向左移动1/8，这样你的手指现在在5/8。以此类推，你的手指最终会到达一个数字上，在本例子中是2/3。

现在考虑交错级数

$$
1-\frac{1}{2}+\frac{1}{3}-\frac{1}{4}+\frac{1}{5}-\frac{1}{6}+\dots
$$

在四项之后，我们知道无限和至少是1 − 1/2 + 1/3 − 1/4 = 7/12 = 0.583 . . .，五项之后，我们知道最多是 1 − 1/2 + 1/3 − 1/4 + 1/5 = 47/60 = 0.783. . . . 。最终的无限和略大于这两个数的一半，即0.693147…用微积分，我们可以求出这个数的真实值。

作为热身练习，以几何级数为例

$$
1+x+x^2+x^3+x^4+\dots=\frac{1}{1-x}
$$

让我们看看两边求导会发生什么。回想一下第11章， $$1、x、x^2、x^3、x^4$$ 等的导数分别是 $$0、1、2x、3x^2、4x^3$$ 等等。因此，如果我们假设无穷和的导数是\(无穷\)导数的和，然后用连锁法则求导 $$ (1 − x)^{−1}$$ ，我们得到 $$-1 < x < 1$$ 

$$
1+2x+3x^2+4x^3+5x^4+\dots=\frac{1}{(1-x)^2}
$$

接下来我们用-x代替x的几何级数,对于 $$-1 < x < 1$$ 

$$
1-x+x^2-x^3+x^4-\dots=\frac{1}{1+x}
$$

![](file:///C:/Users/samuel/AppData/Local/Temp/msohtmlclip1/01/clip_image118.jpg)

现在我们求两边的反导数，了解微积分的学生都知道这是积分。为了求反导数，我们要倒推。比如， $$x^2$$ 的导数是 $$2x$$ ，反推， $$2x$$ 的反导数是 $$x^2$$ 。\(作为微积分学生的技术笔记， $$x^2 + 5$$ 或 $$x^2 + π$$ 或 $$x^2 + c$$ 的导数全是 $$2x$$ ，所以 $$2x$$ 的反导数是 $$x^2 + c$$ \)。 $$1、x、x^2、x^3、x^4$$ 等的反导数分别是 $$x、x^2/2、x^3/3、x^4/4、x^5/5$$ 。 $$1 /(1 + x)$$ 的反导数是 $$1 + x$$ 的自然对数。这样对 $$−1 < x < 1$$ 

$$
x-\frac{x^2}{2}+\frac{x^3}{3}-\frac{x^4}{4}+\frac{x^5}{5}-\dots=\ln (1+x)
$$

\(微积分专业提示:左边的常数项是0，因为当 $$x = 0$$ 时，我们希望左边的值是 $$\ln 1 = 0$$ \)。当x越来越接近1时，我们发现了0.693147的自然意义，即

$$
1-\frac{1}{2}+\frac{1}{3}-\frac{1}{4}+\frac{1}{5}-\frac{1}{6}+\dots=\ln 2
$$

{% hint style="info" %}
当x在-1和1之间时，如果用 $$-x^2$$ 替换几何级数中的x，我们得到

$$1-x^2+x^4-x^6+x^8-\dots=\frac{1}{1+x^2}$$ 

在多数的微积分教材中， $$y = \tan^{−1} x$$ 的导数是

$$y^′ =\frac{1}{1+x^2}$$ 

这样，如果我们求两边的反导数（注意tan−1 0 = 0），我们得到

$$x-\frac{x^3}{3}+\frac{x^5}{5}-\frac{x^7}{7}+\frac{x^9}{9}-\dots=\tan^{-1}x$$ 

当x趋近1时，我们得到

$$1-\frac{1}{3}+\frac{1}{5}-\frac{1}{7}+\frac{1}{9}-\frac{1}{11}+\dots=\tan^{-1}1=\frac{\pi}{4}$$ 
{% endhint %}

我们已经看到几何级数是如何使用的,现在让我们看看它是如何被滥用的 几何级数的公式是这样的，当−1 &lt; x &lt; 1时，

$$
1+x+x^2+x^3+x^4+\dots=\frac{1}{1-x}
$$

让我们看看当x = -1时发生了什么。公式会告诉我们

$$
1-1+1-1+1-\dots=\frac{1}{1-(-1))}=\frac{1}{2}
$$

当然这是不可能的;因为我们只是对整数进行加和减，所以不应该得到一个分数值，比如1/2，即使这个和是收敛的。另一方面，答案并不完全是荒谬的，因为级数的部分和是

$$
\begin{aligned}
1 &=1\\
1-1&=0\\
1-1+1&=1\\
1-1+1-1&=0
\end{aligned}
$$

由于部分和的一半是1，一半是0，所以答案1/2不是太不合理。

使用非法值x = 2时，几何级数的结果是

$$
1+2+4+8+16+\dots=\frac{1}{1-2}=-1
$$

这个答案看起来比上一个还要荒谬。正数的和怎么可能是负数呢?但是对于这个求和，也许还有一个合理的解释。例如，在第3章，我们遇到过一个使正数表现为一个负数的方法，使用模运算 $$10 ≡ −1(\mod 11)$$ 。

我们可以做出 $$10^k ≡ (−1)^k (\mod 11)$$ 。

这里有一种方法来理解1 + 2 + 4 + 8 + 16 + · · · 这需要我们的思维跳出框框。回想一下，在第4章中，我们发现每个正整数都可以用一种独特的方式表示为2的幂的和。这是二进制运算的基础，这是数字计算机进行计算的方式。每个整数都使用有限的2次幂。例如，106 = 2 + 8 + 32 + 64只使用4个2的幂。但是现在假设我们有无限整数，它们可以使用任意多的2的幂。一个典型的无限整数可能是这样的1 + 2 + 8 + 16 + 64 + 256 + 2048 + · · ·这些数代表着什么还不清楚，但我们可以用它们得出一致的算术规则。例如，我们可以以一种使进位自然发生的方式将这些数加起来。例如,如果我们把106加到上面的数中,我们会得到

$$
\begin{aligned}
&1+2\quad+8+16\quad+64\quad+256+\dots\\
&\underline{\ \ \ +\ 2\quad+8\quad+32+64\qquad\qquad\qquad}\\
&1\quad+4\qquad\qquad+64+128+256+\dots


\end{aligned}
$$

其中 2 + 2 合并为4；接下来，8 + 8 = 16，将其与16相加得到32，在与后面的32相加得到64；两个64的和是128；256以后的一切都没有变化。现在想象一下，当我们取最大的无限整数并加上1时会发生什么

$$
\begin{aligned}
&1+2+4+8+16+32+64+128+256+\dots\\
&\underline{+1\qquad\qquad\qquad\qquad\qquad\qquad\qquad\qquad\qquad\qquad}
\end{aligned}
$$

结果将是一个无尽的连锁反应，在这个过程中没有2的幂出现在线下面。因此，和可以被认为是0。既然\(1 + 2 + 4 + 8 + 16 + · · ·\) + 1 = 0，那么从两边减去1就可以看出无穷和类似-1。

这是我最喜欢的不可能无限和

$$
1+2+3+4+5+\dots=\frac{-1}{12}
$$

我们用在有限几何级数的第二证明中使用的移位代数方法来证明这一点。虽然移位方法对有限和是有效的，但它却可能导致看上去荒谬的结果。例如，让我们首先使用移位代数来解释早期的恒等式。我们把和写了两遍，但是把这些项在第二个和中移动一位，如下所示

$$
\begin{aligned}
S&=1-&1+1-1+1-1+\dots \\
S&=&1-1+1-1+1-\dots
\end{aligned}
$$

将两个方程相加得到

2S = 1

所以S = 1/2。正是我们之前提到的，x = -1时几何级数的结果。

{% hint style="info" %}
我们可以用移位法给出一个快速但不太合理的几何级数公式的证明。

$$\begin{aligned} S&=1+&x+x^2+x^3+x^4+x^5+\dots \\ xS&=&x+x^2+x^3+x^4+x^5+\dots \end{aligned}$$ 

将两个方程相减

$$S(1 − x) = 1$$ 

所以

$$S=\frac{1}{1-x}$$ 

□
{% endhint %}

接下来我们说，我们期望的和另一个版本也有一个有趣的答案，即

$$1 − 2 + 3 − 4 + 5 − 6 + 7 − 8 + · · · =1/4$$ 

这是移位代数证明。写求和两次，我们得到。

$$
\begin{aligned}
      & T = 1 − 2 + 3 − 4 + 5 − 6 + 7 − 8 + · · ·\\
       &T = \quad\      1 − 2 + 3 − 4 + 5 − 6 + 7−· · ·
\end{aligned}
$$

将两等式相加得到

$$2T = 1 − 1 + 1 − 1 + 1 − 1 + 1 − 1 + · · ·$$ 

因为2T = S = ½，所以T = ¼。

最后让我们将所有正整数的和写成U，将T写在它下面。

$$
\begin{aligned}
&U = 1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + · · ·\\
&T = 1 − 2 + 3 − 4 + 5 − 6 + 7 − 8 + · · ·
\end{aligned}
$$

将第二个等式从第一个中减去

$$U − T = 4 + 8 + 12 + 16 + · · · = 4(1 + 2 + 3 + 4 + · · ·)$$ 

换句话

$$U − T = 4U$$ 

求解U， $$ 3U = −T = −1/4$$ ，所以

$$U = −1/12$$ 

**郑重声明**，当你把无限个正整数相加时，和发散到无穷。但当你把所有这些有限的答案都看成是没有任何可取之处的纯粹的魔法时，可能会在某种情况下，这些结果是讲得通的。通过扩展我们对数的看法，我们发现了一种方法使得1 + 2 + 4 + 8 + 16 + · · · = −1不是那么不可信。还记得吧，当我们把数限制在实线上时，不可能找到一个平方为-1的数，但是当我们把复数看成是平面上遵从同样算术规则的点时，我们就能找到这样的数。事实上，研究弦理论的理论物理学家实际上在他们的计算值使用了1 + 2 + 3 + 4 + · · · = −1/12。当你遇到与这里类似的矛盾结果时，你可以把它们当作不可能的事情而忽略掉，就当什么也没发生过。但是如果你允许自己的想象力去考虑可能性，那么一个一致的、美丽的系统就会出现。

让我们以一个更加矛盾的结果来结束这本书。在这一节的开始，我们看到了交错级数

$$
1-\frac{1}{2}+\frac{1}{3}-\frac{1}{4}+\frac{1}{5}-\frac{1}{6}+\dots
$$

收敛到 $$\ln 2 = 0.693147…$$ 如果你用不同的顺序把这些数相加，你自然会得到相同的和，因为加法的交换律是这么说的

对任意的A和B，A + B = B + A

但是，看看当我们用下面的方法重新排列和时会发生什么

$$
1-\frac{1}{2}-\frac{1}{4}+\frac{1}{3}-\frac{1}{6}-\frac{1}{8}+\frac{1}{5}-\frac{1}{10}-\frac{1}{12}+\dots
$$

注意，这相加的数都是一样的。因为每个奇数分母的分数都被相加，每个偶数分母的分数都被减去。尽管偶数的消耗速度是奇数的两倍，但它们都有取之不尽的资源，而且从原始和中得到的每一个分数在新的和中只出现一次。同意吗?注意这个等于

$$
\begin{aligned}
&=\left(1-\frac{1}{2}\right)-\frac{1}{4}+\left(\frac{1}{3}-\frac{1}{6}\right)-\frac{1}{8}+\left(\frac{1}{5}-\frac{1}{10}\right)-\frac{1}{12}+\dots\\
&=\quad\frac{1}{2}\quad\quad-\frac{1}{4}\quad\quad+\frac{1}{6}\quad\ \ -\frac{1}{8}\quad\quad+\frac{1}{10}\quad\ \ -\frac{1}{12}+\dots\\
&=\frac{1}{2}\left(1-\frac{1}{2}+\frac{1}{3}-\frac{1}{4}+\frac{1}{5}-\frac{1}{6}+\dots\right)
\end{aligned}
$$

这是原来结果的一半!这怎么可能?当我们重新排列一组数时，怎么可能得到一个完全不同的结果呢?令人惊讶的答案是，加法的交换律会在无数个数相加时失效。

这个问题就出现在一类的收敛级数中，在这样的收敛级数中，正项和负项分别形成发散级数。换句话说，正的项相加趋于∞，负的项相加趋于-∞。上一个例子就是这样。这些序列被称为条件收敛级数，令人惊讶的是，它们被重新排列后可获得任何你想要的和。如何重新排列使得最后的和正好是42？你需加足够多的正数直到和超过42，然后减去第一个负数。然后加上更多的正数直到再次超过42。然后减去第二个负数。重复这个过程，你的总和最终会越来越接近42。\(例如，减去第五个负项\*1/10后，总和与42的差在0.1以内。减去第50个负项，\*1/100，总和与42的差小于0.01，以此类推。

我们在实践中遇到的大多数无穷级数都没有表现出这种奇怪的行为。如果我们用绝对值替换每一项\(这样每个负的项都变成正的\)，那么如果新的和收敛，原来的级数就叫做绝对收敛。例如，我们之前遇到的交替级数就是绝对收敛,

$$
1-\frac{1}{2}+\frac{1}{4}-\frac{1}{8}+\frac{1}{16}-\dots=\frac{2}{3}
$$

因为当求绝对值的和时，我们得到了熟悉的收敛级数

$$
1+\frac{1}{2}+\frac{1}{4}+\frac{1}{8}+\frac{1}{16}+\dots=2
$$

对于绝对收敛级数，加法的交换律总是成立的，即使有无穷多个项。因此在上面的交错级数中，无论你如何彻底地重新排列1, −1/2, 1/4, −1/8 . . .。重新排列的和总是收敛到2/3。

不像无穷级数，一本书必须在某个时候结束。我们不敢尝试超越无穷，所以这似乎是一个停止的好地方，但我无法抗拒最后一次数学旅行。

## 再来一个！幻方！

作为对本书结尾部分的奖励，这里有一个更神奇的数学主题供你欣赏。它与无穷无关，但它确实在标题中正好有“魔法”这个词（译注：幻方的英文是Magic square。此处作者再次双关）。幻方是一个正方形的数字网格，每一行、每一列、每一对角线上的数之和相同。最著名的3×3幻方如下所示，三行，三列，两对角线加15。

![&#x548C;&#x4E3A;15&#x7684;&#x4E09;&#x9636;&#x5E7B;&#x65B9;](.gitbook/assets/image%20%28200%29.png)

这里有一个关于幻方的鲜为人知的事实，我称之为幻方回文属性。如果你把每一行和每一列都看成一个3位数，然后把它们的平方相加，你会发现

$$\begin{aligned} 492^2 + 357^2 + 816^2 &= 294^2 + 753^2 + 618^2 \\ 438^2 + 951^2 + 276^2 &= 834^2 + 159^2 + 672^2 \end{aligned}$$ 

类似的现象也发生在一对角线上。例如

$$456^2 + 312^2 + 897^2 = 654^2 + 213^2 + 798^2$$ 

确实是魔幻的方块。

最简单的四阶幻方用到数1到16，其中所有的行、列和对角线加起来等于34，如下所示。数学家和魔术师喜欢4阶幻方，因为它们通常包含几十种不同的方法来实现神奇的总数。例如，在下面的幻方中，每一行、每一列、每一列和每一条对角线加起来等于34，就像里面每一个2×2的正方形一样，包括左上象限\(8、11、13、2\)、中间的四个数字以及幻方的四个角。即使是弯折的对角线之和也是34。其中任何一个3阶幻方的角之和也是如此。

![&#x4E00;&#x4E2A;&#x548C;&#x4E3A;34&#x7684;&#x5E7B;&#x65B9;&#x3002;&#x6BCF;&#x4E00;&#x884C;&#x3001;&#x6BCF;&#x4E00;&#x5217;&#x3001;&#x6BCF;&#x4E00;&#x5BF9;&#x89D2;&#x7EBF;&#x7684;&#x548C;&#x4E3A;34&#xFF0C;&#x6BCF;&#x4E00;&#x4E2A;&#x5BF9;&#x79F0;&#x7684;&#x56DB;&#x4E2A;&#x65B9;&#x683C;&#x4E4B;&#x548C;&#x4E5F;&#x662F;34](.gitbook/assets/image%20%28204%29.png)

你有最喜欢的大于20的两位数吗?你可以通过使用1到12，以及t - 18, t - 19, t - 20和t - 21这四个数，依据下图创建一个和为t的幻方。

![](.gitbook/assets/image%20%28205%29.png)

例如，参见下面的幻方，其魔幻和为T = 55。每组4个方格中只要在其中一个\(不是两个,不是零个\)添加一个变量T，则新的和将从34增加到55。所以右上角的方格会有正确的总和\(35 + 1 + 7 + 12 = 55\)，但左侧中间的四格之和就不是55\(34 + 2 + 3 + 37 ≠ 55\)。

![](.gitbook/assets/image%20%28202%29.png)

虽然并不是每个人都有自己喜欢的两位数，但每个人都有自己的生日，我发现人们喜欢用自己的生日来装饰个性化的幻方。这里有一个方法，我用来创建一个双生日幻方，生日实际上出现了两次:在最上面的一行和四个角落。如果生日使用数字a、b、c和d，那么您可以创建下面的幻方。注意，每一行、每一列和对角线，以及最对称的四格组，它们的和是A + B + C + D。

![&#x4E00;&#x4E2A;&#x53CC;&#x91CD;&#x751F;&#x65E5;&#x7684;&#x5E7B;&#x65B9;&#x3002;&#x65E5;&#x671F;a/b/c/d&#x51FA;&#x73B0;&#x5728;&#x7B2C;&#x4E00;&#x884C;&#x548C;&#x56DB;&#x4E2A;&#x89D2;&#x843D;](.gitbook/assets/image%20%28208%29.png)

1936年11月18日是我母亲的生日，对应的幻方是这样的

![&#x6211;&#x6BCD;&#x4EB2;&#x751F;&#x65E5;&#x7684;&#x5E7B;&#x65B9;:11/18/36&#xFF0C;&#x9B54;&#x6CD5;&#x603B;&#x6570;38](.gitbook/assets/image%20%28209%29.png)

现在根据你自己的生日创建一个幻方。如果按照上面给出的模式，你的生日总数将出现超过36次。看看你能找到多少。

虽然四阶幻方组合最多，但也有一些技巧可以创造出高阶的幻方。例如，这里有一个十阶幻方，它使用了从1到100所有的数。

![](.gitbook/assets/image%20%28206%29.png)

你能不能而不加任何一行，算出每一行、列和对角线上的魔法总和?当然可以!因为我们很久以前就展示过，从1加到100的和是5050，每一行肯定是它的十分之一。因此，魔法和肯定是5050/10 = 505。这本书的开头是从1加到100，所以似乎我们也应该在这里结束。恭喜\(也谢谢\)你读完了这本书。我们讨论了许多数学主题、思想和解决问题的策略。当你回顾这本书并阅读其他依赖数学思维的书籍时，我希望你能发现这本书中呈现的思想是有用的、有趣的、神奇的。

